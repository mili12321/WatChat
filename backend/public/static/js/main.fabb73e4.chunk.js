(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{179:function(e,t,a){e.exports=a(504)},494:function(e,t){},503:function(e,t,a){},504:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(41),o=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(13),c=a(11),l=a(7),m=a(8),u=a(10),d=a(9),p=a(49),v=a(27),g=a(6),h=a(5),f=a.n(h),E=a(12),y=a(30),k=a(163),b=a.n(k).a.create({withCredentials:!0}),w=function(e,t){return C(e,"GET",t)},N=function(e,t){return C(e,"POST",t)},j=function(e,t){return C(e,"PUT",t)},S=function(e,t){return C(e,"DELETE",t)};function C(e){return U.apply(this,arguments)}function U(){return(U=Object(E.a)(f.a.mark((function e(t){var a,n,s,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"get",n=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,b({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var _=[],O={query:function(e){var t="?search=".concat(e.search,"&minYear=").concat(e.minYear,"&maxYear=").concat(e.maxYear,"&type=").concat(e.type);return w("movie".concat(t))},getById:function(e){return w("movie/".concat(e))},save:function(e){return j("movie/".concat(e._id),e)},getFavoriteList:function(){return(_=x("favorite"))?(console.log("fav list in Storage:",_),Promise.resolve(_)):"no favorite movies"},toggleFavList:function(e){console.log("the movie that added to fav list in Storage:",e),_=[e].concat(Object(y.a)(_)),t="favorite",a=_,localStorage.setItem(t,JSON.stringify(a));var t,a}};function x(e){var t=localStorage.getItem(e);return JSON.parse(t)}function M(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_START"}),t.next=4,O.query(e);case 4:n=t.sent,a({type:"SET_MOVIES",movies:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("MovieActions: err in loadMovies",t.t0);case 11:return t.prev=11,a({type:"LOADING_DONE"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}var I={login:function(e){return T.apply(this,arguments)},logout:function(){return G.apply(this,arguments)},signup:function(e){return L.apply(this,arguments)},getUsers:function(){return w("user")},getById:function(e){return w("user/".concat(e))},remove:function(e){return S("user/".concat(e))},update:function(e){return F.apply(this,arguments)},addFavMovie:function(e,t){return V.apply(this,arguments)},removeFavMovie:function(e,t){return P.apply(this,arguments)},loginByGoogle:function(e){return R.apply(this,arguments)}};function F(){return(F=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("user/".concat(t._id),t);case 2:return a=e.sent,e.abrupt("return",A(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("auth/login",t);case 2:return a=e.sent,e.abrupt("return",A(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",A(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("auth/loginByGoogle",t);case 2:return a=e.sent,e.abrupt("return",A(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function V(){return(V=Object(E.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.favMovies=[a].concat(Object(y.a)(t.favMovies)),e.next=3,j("user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",A(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(E.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.favMovies=t.favMovies.filter((function(e){return e._id!==a._id})),e.next=3,j("user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",A(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return function(){var e=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,I.getUsers();case 4:a=e.sent,t({type:"SET_USERS",users:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}function D(){return function(){var e=Object(E.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function H(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.update(e);case 2:n=t.sent,a({type:"UPDATE_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function W(e,t){return e.favMovies.filter((function(e){return e._id===t._id})).length>0?function(){var a=Object(E.a)(f.a.mark((function a(n){var s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.removeFavMovie(e,t);case 3:s=a.sent,n({type:"REMOVE_FAV_MOVIE",user:s}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("UserActions: err in removeFavoriteMovie",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}():function(){var a=Object(E.a)(f.a.mark((function a(n){var s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.addFavMovie(e,t);case 3:s=a.sent,n({type:"ADD_FAV_MOVIE",user:s}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("UserActions: err in addFavoriteMovie",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}var X=a(164);function Y(e){var t=e.movie;return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a,{className:"parallax-effect-glare-scale",perspective:500,glareEnable:!0,glareMaxOpacity:.45,scale:1.02,style:{backgroundImage:"url(".concat(t.coverUrl,")")}},s.a.createElement("div",{className:"inner-element"},s.a.createElement(c.Link,{to:"/room/".concat(t._id)},s.a.createElement("div",{className:"paly-card-btn"},s.a.createElement("i",{className:"fas fa-play card-play"}))))))}var z=a(166),J=a.n(z),q=(a(207),a(168)),K=a(169),Z=a(170),$=a(59),Q=a.n($),ee=(a(80),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeRateToStars=function(t){for(var a=[],n=e.props.avgReview(t)/2,r=1;r<Math.ceil(n);r++)a.push(s.a.createElement("i",{className:"fas fa-star star-color"}));if(Math.ceil(n)===n)return s.a.createElement("i",{className:"fas fa-star star-color"});if(Math.ceil(n)>n&&a.push(s.a.createElement("i",{className:"fas fa-star-half-alt star-color"})),Math.ceil(n)<5)for(var o=n+1;o<5;o++)a.push(s.a.createElement("i",{className:"far fa-star star-color"}));return a},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movies,n=t.toggleFavoriteList,r=t.isFavoriteMovie;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,{infinite:!0,mouseTracking:!0,duration:400,autoPlay:!0,startIndex:1,fadeOutAnimation:!0,mouseDragEnabled:!0,playButtonEnabled:!0,autoPlayInterval:2e3,autoPlayDirection:"ltr",autoPlayActionDisabled:!0},a.map((function(t,a){return s.a.createElement("div",{className:"hero-carousel"},s.a.createElement("div",{className:"slide".concat(a+1," slide"),style:{backgroundImage:"url(".concat(t.heroCoverUrl?t.heroCoverUrl:"",")")}},s.a.createElement("div",{className:"text-inside-slide"},s.a.createElement("div",{className:"slide-upper-text-container"},s.a.createElement("div",{className:"slide-title"},t.title),s.a.createElement("div",{className:"slide-genres"},t.genres.map((function(e,a){return s.a.createElement("div",{key:t._id,className:"genre".concat(a+1)},e)}))),s.a.createElement("div",{className:"slide-btns"},s.a.createElement(c.Link,{to:"/room/".concat(t._id)},s.a.createElement("div",{className:"slide-btn1 slide-btn"},"watch movie")),s.a.createElement(c.Link,{to:"/movie/".concat(t._id),className:"slide-btn-style slide-btn"},s.a.createElement("div",{className:"slide-btn2 "},"view info")),s.a.createElement("div",{className:"slide-btn3 slide-btn",onClick:function(){n(t)}},"favoriteBtnStyle"!==r(t)?s.a.createElement(c.Link,null,s.a.createElement("i",{className:"fas fa-plus"})):s.a.createElement(c.Link,null,s.a.createElement("i",{className:"fas fa-check"})),"add to favorite"))),s.a.createElement("div",{className:"slide-rate"},e.changeRateToStars(t))),s.a.createElement("div",{className:"text-inside-slide2"},s.a.createElement("div",{className:"info-in-slide"}))))}))))}}]),a}(n.Component)),te=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"onSlideChange",value:function(e){console.log("Item`s position during a change: ",e.item),console.log("Slide`s position during a change: ",e.slide)}},{key:"onSlideChanged",value:function(e){console.log("Item`s position after changes: ",e.item),console.log("Slide`s position after changes: ",e.slide)}},{key:"render",value:function(){var e=this.props.movies;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,{duration:400,autoPlay:!0,startIndex:1,fadeOutAnimation:!0,mouseDragEnabled:!0,playButtonEnabled:!0,responsive:{0:{items:1},350:{items:2},720:{items:3},1e3:{items:4},1290:{items:5}},autoPlayInterval:2e3,autoPlayDirection:"rtl",autoPlayActionDisabled:!0,onSlideChange:this.onSlideChange,onSlideChanged:this.onSlideChanged,className:"alice-carousel",id:"top-carousel"},e.slice(10,20).map((function(e,t){return s.a.createElement(c.Link,{to:"/movie/".concat(e._id)},s.a.createElement("div",{key:e._id,className:"carousel-card"},s.a.createElement("div",{className:"movie-img-container"},s.a.createElement("div",{className:"movie-img",style:{backgroundImage:"url(".concat(e.coverUrl?e.coverUrl:"",")")}})),s.a.createElement("div",{className:"top-number ".concat(9===t?"last-child":"")},t+1)))}))))}}]),a}(n.Component),ae=a(76),ne=a.n(ae),se=a(167),re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).responseGoogle=function(t){var a={email:t.profileObj.email,avatar:t.profileObj.imageUrl,username:t.profileObj.givenName};e.props.loginByGoogle(a),console.log("loggedInUser:",e.props.loggedInUser),e.props.closeModal()},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(se.GoogleLogin,{clientId:"866960241942-jhfvtsh6b7adl5jae5cth72jlhug4i72.apps.googleusercontent.com",buttonText:"Login With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"}))}}]),a}(n.Component),oe={loginByGoogle:function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.loginByGoogle(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ie=Object(i.b)((function(e){return{users:e.user.users,loggedInUser:e.user.loggedInUser,isLoading:e.system.isLoading}}),oe)(re),ce=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={msg:"",loginCred:{email:"",password:""},signupCred:{email:"",password:"",username:""},section:!0},e.loginHandleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState((function(e){return{loginCred:Object(g.a)(Object(g.a)({},e.loginCred),{},Object(v.a)({},n,s))}}))},e.signupHandleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState((function(e){return{signupCred:Object(g.a)(Object(g.a)({},e.signupCred),{},Object(v.a)({},n,s))}}))},e.doLogin=function(){var t=Object(E.a)(f.a.mark((function t(a){var n,s,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,s=n.email,r=n.password,s&&r){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:o={email:s,password:r},e.props.login(o),e.setState({loginCred:{email:"",password:""}}),e.props.closeModal();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(E.a)(f.a.mark((function t(a){var n,s,r,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.signupCred,s=n.email,r=n.password,o=n.username,s&&r&&o){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 4:i={email:s,password:r,username:o},e.props.signup(i),e.setState({signupCred:{email:"",password:"",username:""}}),e.props.closeModal();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e.onSignup=function(){e.setState({section:!e.state.section})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=s.a.createElement("form",{onSubmit:this.doSignup,className:"signup-container"},s.a.createElement("input",{className:"login-input",type:"text",name:"email",value:this.state.signupCred.email,onChange:this.signupHandleChange,placeholder:"Email"}),s.a.createElement("br",null),s.a.createElement("input",{className:"login-input",name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password"}),s.a.createElement("br",null),s.a.createElement("input",{className:"login-input",type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username"}),s.a.createElement("br",null),s.a.createElement("button",{className:"login-btn"},"Signup")),t=s.a.createElement("form",{onSubmit:this.doLogin,className:"login-container"},s.a.createElement("input",{className:"login-input",type:"text",name:"email",value:this.state.loginCred.email,onChange:this.loginHandleChange,placeholder:"Email"}),s.a.createElement("br",null),s.a.createElement("input",{className:"login-input",type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),s.a.createElement("br",null),s.a.createElement("button",{className:"login-btn"},"Login")),a=this.props.loggedInUser;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a,{canvasClassName:"example",params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),s.a.createElement("div",{className:"login-page"},s.a.createElement("button",{className:"close-modal",onClick:this.props.closeModal},"x"),s.a.createElement("h1",{className:"login-title"},s.a.createElement("div",{className:"welcome-txt ".concat(this.props.addFavMovieTxt?"hide-txt":"")},s.a.createElement("div",null,"Welcome"),s.a.createElement("div",{className:"welcome-txt2"},"Sign in with your email address")),s.a.createElement("div",{className:"guest-addFav-txt ".concat(this.props.addFavMovieTxt?"":"hide-txt")},s.a.createElement("div",{className:"guest-addFav-center-txt"},"Add to favorites"),s.a.createElement("div",{className:"guest-addFav-bigger-txt"},"Before you can do that..."),s.a.createElement("div",null,"Sign in or register with your email address"))),s.a.createElement("h2",{className:"mag"},this.state.msg),s.a.createElement("div",{className:"auth-form"},!a&&this.state.section?t:e,s.a.createElement("div",{className:"login-txt"},"".concat(this.state.section?"DON'T HAVE ACCOUNT YET?":"")," "),s.a.createElement("div",{className:"google-oauth"},s.a.createElement(ie,{className:"google-oauth-btn",closeModal:this.props.closeModal})),s.a.createElement("div",{className:"login-txt-btn",onClick:this.onSignup},"".concat(this.state.section?"Signup Here":"Go Back"))),s.a.createElement("hr",null)))}}]),a}(n.Component),le={login:function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.login(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:D,signup:function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.signup(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.remove(e);case 3:a({type:"USER_REMOVE",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:B},me=Object(i.b)((function(e){return{users:e.user.users,loggedInUser:e.user.loggedInUser,isLoading:e.system.isLoading}}),le)(ce),ue=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isShown:!0},e.closeModal=function(){e.setState({isShown:!1}),e.props.onOpenModal()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.isShown;return s.a.createElement("div",{className:"modal-wrapper ".concat(e?"":"hide"),onClick:this.closeModal},s.a.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},s.a.createElement(me,{closeModal:this.closeModal})))}}]),a}(s.a.Component),de=a(18),pe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{search:"",minYear:-1/0,maxYear:1/0,type:"All"},showComponent:!1},e.toggleFavoriteList=function(t){e.props.loggedInUser?(console.log("loggedInUser.favMovies:",e.props.loggedInUser.favMovies),e.props.toggleFavUserList(e.props.loggedInUser,t),console.log("favoriteList:",e.props.favoriteList)):e.onOpenModal()},e.isFavoriteMovie=function(t){return e.props.loggedInUser&&e.props.loggedInUser.favMovies.find((function(e){return e._id===t._id}))?"favoriteBtnStyle":""},e.handleInputs=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(g.a)(Object(g.a)({},e.state),{},{filterBy:Object(g.a)(Object(g.a)({},e.state.filterBy),{},Object(v.a)({},a,n))}),(function(){e.props.loadMovies(e.state.filterBy)}))},e.avgReview=function(e){var t=0,a=0;return e.reviews?(e.reviews.forEach((function(e){e.rating&&(t+=parseInt(e.rating),a++)})),(t/a).toFixed(1)):0},e.toggleFavoriteList=function(t){e.props.loggedInUser?e.props.toggleFavUserList(e.props.loggedInUser,t):e.onOpenModal()},e.isFavoriteMovie=function(t){return e.props.loggedInUser&&e.props.loggedInUser.favMovies.find((function(e){return e._id===t._id}))?"favoriteBtnStyle":""},e.onOpenModal=function(){e.setState({showComponent:!e.state.showComponent})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.loadMovies(this.state.filterBy),J.a.init({})}},{key:"componentWillUnmount",value:function(){var e={search:"",minYear:-1/0,maxYear:1/0,type:"All"};this.setState({filterBy:e})}},{key:"getHeroMoviesForDisplay",value:function(){return this.props.movies.filter((function(e){return"Wrath of the Titans"===e.title||"Guardians of the Galaxy"===e.title||"Avengers: Endgame"===e.title||"IT"===e.title}))}},{key:"render",value:function(){var e=this,t=this.props.movies,a=this.getHeroMoviesForDisplay();if(!t)return s.a.createElement("div",null,"Loading....");var n=t.filter((function(e){return"X-Men: Dark Phoenix"===e.title||"21 Bridges"===e.title||"Hellboy"===e.title||"Avatar"===e.title}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null),s.a.createElement("div",{className:"movie-app",id:"top"},s.a.createElement("div",{className:"main-header-container"},s.a.createElement("div",{className:"hero-slider"},s.a.createElement(ee,{movies:a,toggleFavoriteList:this.toggleFavoriteList,isFavoriteMovie:this.isFavoriteMovie,onOpenModal:this.onOpenModal,avgReview:this.avgReview}))),s.a.createElement("div",{className:"main-movies-section"},s.a.createElement("div",{className:"Streaming-section1"},s.a.createElement("div",null,"So How Does It Work..."),s.a.createElement("div",{className:"explantion-btn","data-aos":"fade-right"},s.a.createElement(de.HashLink,{to:"/#example"},s.a.createElement("button",null,"Click Here")),s.a.createElement("span",null),s.a.createElement("span",null))),s.a.createElement("div",{className:"live-cinema-section"},s.a.createElement("div",{className:"live-movie-example"},s.a.createElement("div",{className:"img-example"},s.a.createElement("img",{className:"laptop-blank",src:"assets/img/laptop-blank.png",alt:""}),s.a.createElement("video",{className:"home-video",loop:!0,autoPlay:!0,muted:!0},s.a.createElement("source",{src:"assets/img/video.mp4",type:"video/mp4"})),s.a.createElement("img",{className:"chat-img2",src:"assets/img/chat-img2.png",alt:""})),s.a.createElement("div",{className:"movie-example"},s.a.createElement("div",{className:"main-title"},s.a.createElement("div",null,"WATCH WHATEVER, TOGETHER")),s.a.createElement("div",{className:"main-title2"},"Connect with others who are as obsessed with your favorite movies as you are. Come together for watch parties, chat about your favorite shows and movies, and discover your next binge."),s.a.createElement("div",{className:"title"},s.a.createElement("i",null," Streaming Live Now")))),s.a.createElement("div",{className:"live-rooms-container"},s.a.createElement("div",{className:"watch-container"},n.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("div",{className:"live-tag"},s.a.createElement("i",null,"Live")),s.a.createElement(Y,{className:"watch-movie",movie:t}),s.a.createElement("div",{className:"watch-movie-details"},s.a.createElement("div",{className:"title ".concat(t.title.length>11?"ellipsis":"")},s.a.createElement("div",null,t.title)),s.a.createElement("div",{className:"details"},t.genres.splice(2).map((function(e,t){return s.a.createElement("span",{key:t,className:"details-genre"},s.a.createElement("i",null,e))}))),s.a.createElement("div",null,s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id)},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement("div",{className:"watching-details"},s.a.createElement("div",null,s.a.createElement(q.a,{className:"faRegEye icon-style"}),t.viewersNumber?t.viewersNumber:Math.floor(1500*Math.random()+500)),s.a.createElement("div",null,s.a.createElement(K.a,{className:"icon-style"}),e.avgReview(t),"/10"))))}))))),s.a.createElement("div",{className:"new-movies"},s.a.createElement("div",{className:"movies-title"},"New Movies in WatChat"),s.a.createElement("div",{className:"home-new-movies-container"},t.slice(0,11).map((function(t){return s.a.createElement("div",{key:t._id,className:"home-new-movie-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id),className:"new-movie-img-container",style:{backgroundImage:"url(".concat(t.coverUrl?t.coverUrl:"",")")}}),s.a.createElement("div",{className:"info-continer-movie-card"},s.a.createElement("div",{className:"title ".concat(t.title.length>11?"ellipsis":"")},t.title),s.a.createElement("div",{className:"genres-container"},t.genres.map((function(e,t){return s.a.createElement("div",{key:t,className:"genre"},e)}))),s.a.createElement("div",{className:"btns-container"},s.a.createElement("span",{className:"movie-btn movie-btn-details"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id)},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement("span",{className:"movie-btn"},s.a.createElement(de.HashLink,{to:"/room/".concat(t._id)},s.a.createElement("i",{className:"far fa-play-circle"}))),s.a.createElement("span",{className:"movie-btn",onClick:function(){e.toggleFavoriteList(t)}},"favoriteBtnStyle"!==e.isFavoriteMovie(t)?s.a.createElement(de.HashLink,null,s.a.createElement("i",{className:"fas fa-plus"})):s.a.createElement(de.HashLink,null,s.a.createElement("i",{className:"fas fa-check"})))),s.a.createElement("div",{className:"rate-container"},s.a.createElement("div",null,s.a.createElement("i",{className:"far fa-eye"}),t.viewersNumber?t.viewersNumber:Math.floor(150*Math.random()+50)),"\u2b50 ",e.avgReview(t),"/10")))})))),s.a.createElement("div",{className:"top-movies"},s.a.createElement("div",{className:"movies-title"},"TOP 10"),s.a.createElement("div",{className:"home-top-movies-container"},s.a.createElement(te,{movies:t}))),s.a.createElement("div",{className:"editors-movies module-border-wrap"},s.a.createElement("div",{className:"editors-title"},"EDITOR'S CHOICE"),s.a.createElement("div",{className:"home-choices-container"},s.a.createElement("div",{className:"side-img-container2"},s.a.createElement("div",null),s.a.createElement("img",{className:"img-hr10",src:"assets/img/hr10.png",alt:""}),s.a.createElement("div",{className:"info-container"},s.a.createElement(de.HashLink,{to:"/editor-movies/editors-adventure/#top"},s.a.createElement("div",null,"SEE ALL ",s.a.createElement("span",{className:"number-style"},"14"))),s.a.createElement(de.HashLink,{to:"/movies/Adventure"},s.a.createElement("div",null,"Adventure")))),t.slice(8,12).map((function(t){return s.a.createElement("div",{key:t._id,className:"home-choice-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id),className:"img-container",style:{backgroundImage:"url(".concat(t.coverUrl?t.coverUrl:"",")")}}),s.a.createElement("div",{className:"title-btns-container"},s.a.createElement("div",{className:"title ".concat(t.title.length>11?"ellipsis":"")},t.title),s.a.createElement("div",{className:"btns-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id)},s.a.createElement("span",{className:"movie-btn movie-btn-details"},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement(de.HashLink,{to:"/room/".concat(t._id)},s.a.createElement("span",{className:"movie-btn"},s.a.createElement("i",{className:"far fa-play-circle"}))),s.a.createElement(de.HashLink,null,s.a.createElement("span",{className:"movie-btn",onClick:function(){e.toggleFavoriteList(t)}},"favoriteBtnStyle"!==e.isFavoriteMovie(t)?s.a.createElement("i",{className:"fas fa-plus"}):s.a.createElement("i",{className:"fas fa-check"}))))))})))),s.a.createElement("div",{className:"editors-movies2 module-border-wrap"},s.a.createElement("div",{className:"home-choices-container3"},s.a.createElement("div",{className:"side-img-container3"},s.a.createElement("div",null),s.a.createElement("img",{className:"img-hr10",src:"assets/img/hr12.png",alt:""}),s.a.createElement("div",{className:"info-container"},s.a.createElement(de.HashLink,{to:"/editor-movies/editors-action/#top"},s.a.createElement("div",null,"SEE ALL ",s.a.createElement("span",{className:"number-style"},"22"))),s.a.createElement(de.HashLink,{to:"/movies/Action"},s.a.createElement("div",null,"Action")))),t.slice(12,16).map((function(t){return s.a.createElement("div",{key:t._id,className:"home-choice-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id),className:"img-container",style:{backgroundImage:"url(".concat(t.coverUrl?t.coverUrl:"",")")}}),s.a.createElement("div",{className:"title-btns-container"},s.a.createElement("div",{className:"title ".concat(t.title.length>11?"ellipsis":"")},t.title),s.a.createElement("div",{className:"btns-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id)},s.a.createElement("span",{className:"movie-btn movie-btn-details"},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement(de.HashLink,{to:"/room/".concat(t._id)},s.a.createElement("span",{className:"movie-btn"},s.a.createElement("i",{className:"far fa-play-circle"}))),s.a.createElement(de.HashLink,null,s.a.createElement("span",{className:"movie-btn",onClick:function(){e.toggleFavoriteList(t)}},"favoriteBtnStyle"!==e.isFavoriteMovie(t)?s.a.createElement("i",{className:"fas fa-plus"}):s.a.createElement("i",{className:"fas fa-check"}))))))})))),s.a.createElement("div",{className:"editors-movies2 module-border-wrap"},s.a.createElement("div",{className:"home-choices-container2"},s.a.createElement("div",{className:"side-img-container2"},s.a.createElement("div",null),s.a.createElement("img",{className:"img-hr10",src:"assets/img/hr13.png",alt:""}),s.a.createElement("div",{className:"info-container"},s.a.createElement(de.HashLink,{to:"/editor-movies/editors-horror/#top"},s.a.createElement("div",null,"SEE ALL ",s.a.createElement("span",{className:"number-style"},"17"))),s.a.createElement(de.HashLink,{to:"/movies/Horror"},s.a.createElement("div",null,"Horror")))),t.slice(16,20).map((function(t){return s.a.createElement("div",{key:t._id,className:"home-choice-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id),className:"img-container",style:{backgroundImage:"url(".concat(t.coverUrl?t.coverUrl:"",")")}}),s.a.createElement("div",{className:"title-btns-container"},s.a.createElement("div",{className:"title ".concat(t.title.length>11?"ellipsis":"")},t.title),s.a.createElement("div",{className:"btns-container"},s.a.createElement(de.HashLink,{to:"/movie/".concat(t._id)}," ",s.a.createElement("span",{className:"movie-btn movie-btn-details"},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement(de.HashLink,{to:"/room/".concat(t._id)},s.a.createElement("span",{className:"movie-btn"},s.a.createElement("i",{className:"far fa-play-circle"}))),s.a.createElement(de.HashLink,null,s.a.createElement("span",{className:"movie-btn",onClick:function(){e.toggleFavoriteList(t)}},"favoriteBtnStyle"!==e.isFavoriteMovie(t)?s.a.createElement("i",{className:"fas fa-plus"}):s.a.createElement("i",{className:"fas fa-check"}))))))})))),s.a.createElement("div",null,s.a.createElement("div",{className:"example-imgs",id:"example"},s.a.createElement("div",{className:"example-img1"},s.a.createElement("div",{className:"example-img",style:{backgroundImage:"url(assets/img/example/choose-movie.jpg)"}}),s.a.createElement("div",null,"choose a movie to stream or live cinema")),s.a.createElement("div",{className:"example-img2"},s.a.createElement("div",{className:"example-img",style:{backgroundImage:"url(assets/img/example/send-link.jpg)"}}),s.a.createElement("div",null,"Send a link to your friends")),s.a.createElement("div",{className:"example-img3"},s.a.createElement("div",{className:"example-img",style:{backgroundImage:"url(assets/img/example/watch-together.jpg)"}}),s.a.createElement("div",null,"Watch and chat together")))),s.a.createElement("div",{className:"got-to-top-button"},s.a.createElement(de.HashLink,{to:"/#top"},s.a.createElement("button",null,s.a.createElement(Z.a,{className:"bsArrowUp"}))),s.a.createElement("span",null),s.a.createElement("span",null)))),this.state.showComponent?s.a.createElement(ue,{onOpenModal:this.onOpenModal}):null)}}]),a}(n.Component),ve={loadMovies:M,logout:D,toggleFavUserList:W},ge=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser,favoriteList:e.movie.favoriteList}}),ve)(pe),he=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"about-page"})}}]),a}(n.Component),fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isShown:!0},e.closeModal=function(){e.setState({isShown:!1}),e.props.onOpenModal()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.isShown,t=this.props,a=t.children,n=t.updateMovie;return s.a.createElement("div",{className:"modal-wrapper ".concat(e?"":"hide"),onClick:this.closeModal},s.a.createElement("div",{className:"review-modal-content",onClick:function(e){return e.stopPropagation()}},s.a.createElement("form",{onSubmit:n,className:"review-form"},a,s.a.createElement("button",{className:"review-submit-btn"},"Continue"))))}}]),a}(s.a.Component),Ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,showComponent:!1,showReviewComponent:!1,favoriteBtn:!1,reviewToEdit:{txt:"",byUser:"",rating:""},isRate:!1,activeRateCount:0,prevActiveRateCount:0},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.props.loggedInUser?e.setState((function(t){var a;return{reviewToEdit:Object(g.a)(Object(g.a)({},t.reviewToEdit),{},(a={},Object(v.a)(a,n,s),Object(v.a)(a,"byUser",e.props.loggedInUser.username),a))}})):e.setState((function(e){var t;return{reviewToEdit:Object(g.a)(Object(g.a)({},e.reviewToEdit),{},(t={},Object(v.a)(t,n,s),Object(v.a)(t,"byUser","GUEST"),t))}}))},e.updateMovie=function(t){if(t.preventDefault(),!e.state.reviewToEdit.rating)return console.log(" rating required"),void e.setState({isRate:!0});e.state.movie.reviews.push(e.state.reviewToEdit),e.props.updateMovie(e.state.movie),e.setState({reviewToEdit:{txt:""}}),e.onOpenReviewModal()},e.avgReview=function(){var t=0,a=0;return e.state.movie.reviews?(e.state.movie.reviews.forEach((function(e){e.rating&&(t+=parseInt(e.rating),a++)})),(t/a).toFixed(1)):0},e.isFavoriteMovie=function(t){return e.props.loggedInUser&&e.props.loggedInUser.favMovies.find((function(e){return e._id===t._id}))?"favoriteBtnStyle":""},e.toggleFavoriteList=function(t){e.props.loggedInUser?e.props.toggleFavUserList(e.props.loggedInUser,t):e.onOpenModal()},e.onOpenModal=function(){e.setState({showComponent:!e.state.showComponent})},e.onOpenReviewModal=function(){e.setState({showReviewComponent:!e.state.showReviewComponent}),e.setState({activeRateCount:0})},e.selectRate=function(t){e.setState({prevActiveRateCount:e.state.activeRateCount},(function(){})),e.setState({reviewToEdit:Object(g.a)(Object(g.a)({},e.state.reviewToEdit),{},{rating:t})}),e.setState({activeRateCount:t},(function(){console.log("activeRateCount:",e.state.activeRateCount)})),e.setState({isRate:!1})},e.getRatingActiveStars=function(){for(var t=[],a=function(a){t.push(s.a.createElement("i",{key:a,className:"fa fa-star rating-star star".concat(a," rating-active"),onClick:function(){e.selectRate(a)}}))},n=1;n<=e.state.activeRateCount;n++)a(n);for(var r=function(a){t.push(s.a.createElement("i",{key:a,className:"fa fa-star rating-star star".concat(a," "),onClick:function(){e.selectRate(a)}}))},o=e.state.activeRateCount+1;o<11;o++)r(o);return t},e.backgroundImagePosition=function(e){return"Ice Age 3"===e.title?"img-position":void 0},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadMovie()}},{key:"loadMovie",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,O.getById(t);case 3:a=e.sent,this.setState({movie:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTitleColor",value:function(e){switch(e){case"The Equalizer":return"dark-title-on-background";default:return"light-title-on-background"}}},{key:"renderInfoColor",value:function(e){switch(e){case"The Equalizer":case"Kill Switch":case"Hellboy":return"dark-info-on-background";default:return"light-info-on-background"}}},{key:"render",value:function(){var e=this,t=this.state.movie;return t?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"movie-details"},s.a.createElement("div",{className:"details-hero-container  ".concat(this.backgroundImagePosition(t)),style:{backgroundImage:"url(".concat(t.wideCoverUrl?t.wideCoverUrl:"",")")}},s.a.createElement("div",{className:"details-hero-info-container ".concat(t.title.length>27?"long-title":"")},s.a.createElement("div",{className:"details-hero-title ".concat(this.renderTitleColor(t.title)," ").concat(t.title.length>27?"long-title":"")},t.title),s.a.createElement("div",{className:"details-hero-info ".concat(this.renderInfoColor(t.title))},s.a.createElement("div",{className:"details year"},t.year),s.a.createElement("div",{className:"details duration"},t.duration)),s.a.createElement("div",{className:"details-hero-btns"},s.a.createElement(c.Link,{to:"/room/".concat(t._id)},s.a.createElement("div",{className:"details-hero-btn play-btn"},"Play")),s.a.createElement("div",{className:"details-hero-btn my-list-btn ".concat(this.isFavoriteMovie(t)),onClick:function(){e.toggleFavoriteList(t)}},"favoriteBtnStyle"!==this.isFavoriteMovie(t)?s.a.createElement("span",{className:"list-btn-symble"},"+"):s.a.createElement("span",{className:"list-btn-symble"},s.a.createElement("i",{className:"fas fa-check"})),s.a.createElement("span",null," My List")))),s.a.createElement("div",{className:"scenes-container"},t.scenesUrl.map((function(e){return s.a.createElement("div",{className:"scene-img-container",style:{backgroundImage:"url(".concat(e,")")}})})))),s.a.createElement("section",{className:"details-more-info-section"},s.a.createElement("div",{className:"description-container"},s.a.createElement("div",{className:"overview-title"},"Overview"),s.a.createElement("div",{className:"genres-title"},"Genres"),s.a.createElement("div",{className:"overview-txt"},t.description),s.a.createElement("div",{className:"genres-txt"},t.genres.map((function(e){return s.a.createElement("div",null,e)})))),s.a.createElement("div",{className:"cast-continer"},s.a.createElement("div",{className:"cast-title"},"Cast"),t.cast.map((function(e,t){return s.a.createElement("div",{className:"actor-container actor-".concat(t+1)},s.a.createElement("img",{className:"actor-img",src:"".concat(e.img),alt:""}),s.a.createElement("div",{className:"actor-info-container"},s.a.createElement("div",{className:"actor-name"},s.a.createElement("span",null,e.name.split(" ")[0]),s.a.createElement("span",null," ",e.name.split(" ")[1])),s.a.createElement("div",{className:"actor-character"},e.character)))})))),s.a.createElement("section",{className:"reviews-container"},s.a.createElement("div",{className:"reviews-title"},s.a.createElement("div",null,s.a.createElement("div",null,"Reviews"),s.a.createElement("div",{className:"reviews-count"},"(",t.reviews?t.reviews.length:0," Reviews)")),s.a.createElement("div",{className:"number-style avg-number"},"\u2b50",this.avgReview(),"/10"),s.a.createElement("button",{className:"colorful-button dark add-review-btn",onClick:this.onOpenReviewModal},s.a.createElement("div",{className:"wrapper"},s.a.createElement("span",null,"Add Review"),s.a.createElement("div",{className:"circle circle-12"}),s.a.createElement("div",{className:"circle circle-11"}),s.a.createElement("div",{className:"circle circle-10"}),s.a.createElement("div",{className:"circle circle-9"}),s.a.createElement("div",{className:"circle circle-8"}),s.a.createElement("div",{className:"circle circle-7"}),s.a.createElement("div",{className:"circle circle-6"}),s.a.createElement("div",{className:"circle circle-5"}),s.a.createElement("div",{className:"circle circle-4"}),s.a.createElement("div",{className:"circle circle-3"}),s.a.createElement("div",{className:"circle circle-2"}),s.a.createElement("div",{className:"circle circle-1"})))),s.a.createElement("div",{className:"reviews-section"},this.state.showReviewComponent?s.a.createElement(fe,{onOpenModal:this.onOpenReviewModal,updateMovie:this.updateMovie},s.a.createElement("div",{className:"form-container"},s.a.createElement("div",{className:"form-title"},"Your Rating"),s.a.createElement("div",{className:"rating-star-section"},this.getRatingActiveStars()),this.state.isRate&&s.a.createElement("div",{className:"rate-msg"},s.a.createElement("i",{className:"fas fa-exclamation"})," Please select rate"),s.a.createElement("div",{className:"form-title"},"Your Review"),s.a.createElement("textarea",{className:"review-textarea",placeholder:"Give us some detail about what you liked and disliked about the movie",cols:"30",rows:"5",name:"txt",onChange:this.handleChange,value:this.state.reviewToEdit.txt}))):null,t.reviews&&t.reviews.map((function(e){return s.a.createElement("table",{className:"reviews-table"},s.a.createElement("tr",{className:"reviews-tr"},s.a.createElement("th",{className:"reviews-th th-letter"},e.byUser?e.byUser.substring(0,1):"Guest".substring(0,1)),s.a.createElement("th",{className:"reviews-th th-name"},s.a.createElement("div",null,s.a.createElement("span",{className:"reviews-th-name"},e.byUser?e.byUser:"Guest"),s.a.createElement("span",null,"\u2b50",e.rating,"/10")))),s.a.createElement("tr",{className:"reviews-tr"},s.a.createElement("td",{className:"reviews-td"}),s.a.createElement("td",{className:"reviews-td"},s.a.createElement("div",{className:"td-txt"},e.txt))))}))))),this.state.showComponent?s.a.createElement(ue,{onOpenModal:this.onOpenModal}):null):s.a.createElement("div",null,"Loading....")}}]),a}(n.Component),ye={toggleFavUserList:W,updateMovie:function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.save(e);case 3:a({type:"UPDATE_MOVIE",movie:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("MovieActions: err in updateMovie",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},updateUser:H},ke=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser,favoriteList:e.movie.favoriteList,reviews:e.review.reviews}}),ye)(Ee),be={add:function(e){return we.apply(this,arguments)},query:function(e){console.log("movieId",e);var t=e?"?movieId=".concat(e,"&sort=anaAref"):"";return w("review".concat(t||""))},remove:function(e){return S("review/".concat(e))}};function we(){return(we=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("review",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne={uploadImg:function(e){return je.apply(this,arguments)}};function je(){return(je=Object(E.a)(f.a.mark((function e(t){var a,n,s,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dzvebcsrp",a="https://api.cloudinary.com/v1_1/".concat("dzvebcsrp","/image/upload"),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","mister_toy"),e.prev=5,e.next=8,fetch(a,{method:"POST",body:n});case 8:return s=e.sent,e.next=11,s.json();case 11:return r=e.sent,console.log(r.secure_url),console.log("data.secure_url"),e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}var Se,Ce=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={imgUrl:"",name:""},e.onUploadImg=function(){var t=Object(E.a)(f.a.mark((function t(a){var n,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,Ne.uploadImg(a);case 3:n=t.sent,s=n.secure_url,console.log("onUploadImg -> imgUrl",s),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{imgUrl:s}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(g.a)(Object(g.a)({},e.state),{},Object(v.a)({},a,n)))},e.onSave=function(t){t.preventDefault();var a=Object(g.a)(Object(g.a)({},e.props.loggedInUser),{},{username:e.state.name,avatar:e.state.imgUrl});e.props.updateUser(a),e.props.closeModal()},e.removeFromFavList=function(t,a){e.props.loggedInUser&&(t.stopPropagation(),e.props.toggleFavUserList(e.props.loggedInUser,a))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedInUser?(this.setState({imgUrl:this.props.loggedInUser.avatar,name:this.props.loggedInUser.username}),console.log("this.props.loggedInUser",this.props.loggedInUser)):this.props.history.goBack()}},{key:"render",value:function(){var e=this.props.loggedInUser,t=this.state.imgUrl;return e?s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:"user-details-form",onSubmit:this.onSave},s.a.createElement("div",{className:"user-avatar"},s.a.createElement("div",{style:{backgroundImage:"url(".concat(t,")")}}),s.a.createElement("label",{className:"custom-file-upload"},s.a.createElement("input",{onChange:this.onUploadImg,type:"file"}),"Upload Image")),s.a.createElement("div",{className:"username"},s.a.createElement("div",null," Change your username:"),s.a.createElement("input",{value:this.state.name,onChange:this.handleInput,type:"text",name:"name"})),s.a.createElement("button",{onClick:this.onSave},"Save Changes"))):s.a.createElement("div",null,"Loading....")}}]),a}(n.Component),Ue={loadReviews:function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be.query(e);case 3:n=t.sent,a({type:"SET_REVIEWS",reviews:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ReviewActions: err in loadReviews",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateUser:H,toggleFavUserList:W},_e=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser,users:e.user.users,reviews:e.review.reviews}}),Ue)(Ce),Oe=a(171),xe=a.n(Oe),Me=a(172),Ie=a.n(Me),Fe={setup:function(){Se=Ie.a.connect("/")},terminate:function(){Se=null},on:function(e,t){console.log("ON SOCKET EVENT"),Se.on(e,t)},off:function(e,t){Se.off(e,t)},emit:function(e,t){Se.emit(e,t)},broadcast:function(e,t){Se.broadcast.emit(e,t)}};var Te=a(35),Le=(a(497),a(176)),Ge=a(505),Re=a(506),Ae=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"toolbar ".concat(this.props.fullScreenChatBackground())},s.a.createElement("div",{className:"user-count toolbar-icon",onClick:this.props.onGoBack},s.a.createElement("i",{className:"fas fa-home",size:"20px"})),s.a.createElement("div",{className:"add-user toolbar-icon",onClick:this.props.onShare},s.a.createElement("a",{href:"whatsapp://send?text=".concat(window.location.href," Watch ").concat(this.props.movie.title," Together With Friends!"),"data-action":"share/whatsapp/share"},s.a.createElement(Te.f,{size:"20px"}))))}}]),a}(n.Component),Ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isSelected:!1,userPosition:["20%","40%","60%","80%"],posX:0},e.previewRef=s.a.createRef(),e.onUserToggle=function(){if(e.props.user.username!==e.props.currUser.username){e.setState({isSelected:!e.state.isSelected});var t=e.previewRef.current;e.setState({posX:t.getBoundingClientRect().left+25}),console.log("posX:",e.state.posX),setTimeout((function(){e.setState({isSelected:!1})}),5e3)}},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{ref:this.previewRef,className:"user-preview",style:{width:"50px"}},s.a.createElement("div",{className:"user-menu-icons ".concat(this.state.isSelected?"":"hidden")},s.a.createElement("span",{className:"user-icon follow"}),s.a.createElement("span",{onClick:function(){return e.props.sendGift("drink",e.state.posX,e.props.user)},className:"user-icon drink"}),s.a.createElement("span",{onClick:function(){return e.props.sendGift("kiss",e.state.posX,e.props.user)},className:"user-icon kiss"}),s.a.createElement("span",{onClick:function(){return e.props.sendGift("small-popcorn",e.state.posX,e.props.user)},className:"user-icon small-popcorn"})),s.a.createElement("div",{className:"user-avatar",onClick:this.onUserToggle},s.a.createElement("img",{src:this.props.user.avatar?this.props.user.avatar:"https://res.cloudinary.com/dl5mlxukz/image/upload/v1601299626/samples/default-avatar_smehur.png",alt:""})),s.a.createElement("div",{className:"user-name",onClick:function(){e.props.onUsernameSelect(e.props.user)}},this.props.user.username===this.props.currUser.username?"".concat(this.props.currUser.username,"(Me)"):this.props.user.username))}}]),a}(n.Component),Pe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.users;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,{mouseTracking:!0,infinite:!0,responsive:{0:{items:4},400:{items:4},600:{items:5},700:{items:6},800:{items:3},1400:{items:4},1600:{items:5}}},t.map((function(t,a){return s.a.createElement(Ve,{key:t._id,gift:e.props.gift,sendGift:e.props.sendGift,socketInfo:e.props.socketInfo,user:t,userIdx:a,currUser:e.props.currUser,onUsernameSelect:e.props.onUsernameSelect,ref:function(t){return e.Carousel=t}})}))))}}]),a}(n.Component),Be=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{search:"",minYear:-1/0,maxYear:1/0,type:"All"}},e.handleInputs=function(t){var a=t.target.name,n=t.target.value;n?e.props.toggleView("FilteredMovie"):e.props.toggleView("main"),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{filterBy:Object(g.a)(Object(g.a)({},e.state.filterBy),{},Object(v.a)({},a,n))}),(function(){e.props.loadMovies(e.state.filterBy)}))},e.onClearSearch=function(){e.inputField.value="",e.props.toggleView("main")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.loadMovies(this.state.filterBy)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,"movie"===this.props.searchingValue&&s.a.createElement("form",{className:"navlink-search"},s.a.createElement("div",{className:"search-input-container"},s.a.createElement("input",{placeholder:"Search Movie",name:"search",autoComplete:"off",onChange:this.handleInputs,type:"search",ref:function(t){return e.inputField=t},onFocus:function(){return e.inputField.value=""}}),s.a.createElement("div",{className:"search",onClick:function(){e.onClearSearch()}}))),"user"===this.props.searchingValue&&s.a.createElement("form",{className:"navlink-search"},s.a.createElement("div",{className:"search-input-container"},s.a.createElement("input",{onChange:this.props.handleInput,type:"search",name:"name",autocomplete:"off",placeholder:"Search user",ref:function(t){return e.inputField=t},onFocus:function(){return e.inputField.value=""}}),s.a.createElement("div",{className:"search",onClick:function(){e.props.onClearInput("")}}))))}}]),a}(n.Component),De={loadMovies:M},He=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser}}),De)(Be),We=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showComponent:!1,color:"",active:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({active:"home"})}},{key:"componentWillUnmount",value:function(){this.setState({active:""})}},{key:"changeToActiveBtn",value:function(e){this.setState({active:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"mobile-toolbar"},s.a.createElement("div",{className:"toolbar-btns"},s.a.createElement("div",{className:"home nav-column ".concat("home"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn toolbar-btn",to:"/",onClick:function(){e.changeToActiveBtn("home")}},s.a.createElement("i",{className:"fas fa-home"}))),s.a.createElement("div",{className:"add-user toolbar-icon",onClick:this.props.onShare},s.a.createElement("a",{href:"whatsapp://send?text=".concat(window.location.href," \n                Watch ").concat(this.props.movie.title," Together With Friends!\n                "),"data-action":"share/whatsapp/share"},s.a.createElement(Te.f,{size:"25px"}))),s.a.createElement("div",{className:"toolbar-search"},s.a.createElement(He,{searchingValue:"user",handleInput:this.props.handleInput,onClearInput:this.props.onClearInput})),s.a.createElement("div",{className:"total-users-mobile"},s.a.createElement(Te.b,{size:"25px",color:"white"}),this.props.users.length)))}}]),a}(n.Component),Xe=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser}}))(Object(p.o)(We)),Ye=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currPage:0,currSearch:""},e.getUsersForDisplay=function(){var t=4,a=e.props.users.findIndex((function(t){return t._id===e.props.currUser._id}));a>0&&(e.props.users.splice(a,1),e.props.users.unshift(e.props.currUser));var n=parseInt(window.innerWidth);n<=500&&(t=1),n>500&&n<=900&&(t=2),n>900&&n<=1100&&(t=3);var s=e.state.currPage*t;return e.props.users.slice(s,s+t)},e.onMoveRight=function(){4*(e.state.currPage+1)<e.props.users.length&&e.setState((function(e){return{currPage:e.currPage+1}}))},e.onMoveLeft=function(){e.state.currPage>0&&e.setState((function(e){return{currPage:e.currPage-1}}))},e.handleInput=function(t){e.setState({currSearch:t.target.value})},e.onClearInput=function(t){e.setState({currSearch:t})},e}return Object(m.a)(a,[{key:"getFileredUsersForDisplay",value:function(){var e=this;return this.state.currSearch?this.props.users.filter((function(t){return t.username.toLowerCase().includes(e.state.currSearch.toLowerCase())})):this.props.users}},{key:"render",value:function(){var e=this.getFileredUsersForDisplay();return s.a.createElement("div",{className:"user-list-container ".concat(window.innerWidth>813?this.props.fullScreenChatBackground():"")},s.a.createElement("div",{className:"watch-room-users-container"},s.a.createElement(Pe,{users:e,gift:this.props.gift,sendGift:this.props.sendGift,socketInfo:this.props.socketInfo,currUser:this.props.currUser,onUsernameSelect:this.props.onUsernameSelect})),s.a.createElement("input",{onChange:this.handleInput,type:"text",name:"name",autocomplete:"off",placeholder:"Search user",className:"search-user-input"}),s.a.createElement(Xe,{onShare:this.props.onShare,movie:this.props.movie,users:e,handleInput:this.handleInput,onClearInput:this.onClearInput,onGoBack:this.props.onGoBack}),s.a.createElement(Ae,{onShare:this.props.onShare,movie:this.props.movie,fullScreenChatBackground:this.props.fullScreenChatBackground,isFullScreen:this.props.isFullScreen,toggleFullScreen:this.props.toggleFullScreen,onGoBack:this.props.onGoBack}),s.a.createElement("div",{className:"user-list ".concat(this.props.fullScreenChatBackground())},s.a.createElement(Ge.a,{mode:"out-in"},s.a.createElement(Re.a,{key:this.state.currPage,addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},classNames:"fade"},s.a.createElement("div",{className:"users-container"},this.getUsersForDisplay().length<1?s.a.createElement("h1",null,"Loading..."):s.a.createElement(Pe,{users:e,gift:this.props.gift,sendGift:this.props.sendGift,socketInfo:this.props.socketInfo,currUser:this.props.currUser,onUsernameSelect:this.props.onUsernameSelect})))),s.a.createElement("span",{className:"total-users"},s.a.createElement(Te.b,{size:"15px",color:"white"})," ",this.props.users.length)))}}]),a}(n.Component),ze={loadUsers:B},Je=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser}}),ze)(Ye),qe=[{name:":meow_party:",short_names:["meow"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1563480763/5999/meow_party.gif?1563480763",customCategory:"Gif"},{name:":party_parrot:",short_names:["party_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1471119458/990/party_parrot.gif?1471119458",customCategory:"Gif"},{name:":aww-yeah:",short_names:["yeah"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1488512507/1804/aaw_yeah.gif?1488512507",customCategory:"Gif"},{name:":ban_dance:",short_names:["banana"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1450694616/220/bananadance.gif?1450694616",customCategory:"Gif"},{name:":meow_heart:",short_names:["meow_heart"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1596061862/9845/meow_heart.png?1596061862",customCategory:"Gif"},{name:":meow_popcorn:",short_names:["meow_popcorn"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1568064900/6383/meow-popcorn.gif?1568064900",customCategory:"Gif"},{name:":sad:",short_names:["fbsad"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1594314837/9661/fbsad.gif?1594314837",customCategory:"Gif"},{name:":nice:",short_names:["nice"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1599588897/10418/nice.png?1599588897",customCategory:"Png"},{name:":wow:",short_names:["fbwow"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1594314885/9662/fbwow.gif?1594314885",customCategory:"Gif"},{name:":hearteyes:",short_names:["heart"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340467/4971/hearteyes.gif?1542340467",customCategory:"Gif"},{name:":party:",short_names:["party"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340469/4975/party.gif?1542340469",customCategory:"Gif"},{name:":facepalm:",short_names:["facepalm"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340464/4967/facepalm.gif?1542340464",customCategory:"Gif"},{name:":anger:",short_names:["anger"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340458/4962/anger.gif?1542340458",customCategory:"Gif"},{name:":watching-you:",short_names:["watching-you"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340473/4982/watching-you.gif?1542340473",customCategory:"Gif"},{name:":blush:",short_names:["blush"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340460/4963/blush.gif?1542340460",customCategory:"Gif"},{name:":yuck:",short_names:["yuck"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340473/4983/yuck.gif?1542340473",customCategory:"Gif"},{name:":giggle:",short_names:["giggle"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340466/4970/giggle.gif?1542340466",customCategory:"Gif"},{name:":watch:",short_names:["watching"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340473/4982/watching-you.gif?1542340473",customCategory:"Gif"},{name:":shh:",short_names:["shh"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340470/4977/shhh.gif?1542340470",customCategory:"Gif"},{name:":lol:",short_names:["lol"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340468/4973/lol.gif?1542340468",customCategory:"Gif"},{name:":flyingkiss:",short_names:["kiss"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1542340465/4969/flying-kiss.gif?1542340465",customCategory:"Gif"},{name:":alert:",short_names:["alert"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1497901371/2453/alert.gif?1497901371",customCategory:"Gif"},{name:":pika:",short_names:["pika"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1579216111/7550/pikachu_wave.gif?1579216111",customCategory:"Gif"},{name:":angel_parrot:",short_names:["angel_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1578626548/7489/angel_parrot.gif?1578626548",customCategory:"Gif"},{name:":a-parrot:",short_names:["a-parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1512661804/3258/a-parrot.gif?1512661804",customCategory:"Gif"},{name:":bunny_parrot:",short_names:["bunny_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609843/10048/bunny_parrot.gif?1597609843",customCategory:"Gif"},{name:":everythings_fine_parrot:",short_names:["everythings_fine_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609852/10064/everythings_fine_parrot.gif?1597609852",customCategory:"Gif"},{name:":doc_parrot:",short_names:["doc_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609852/10063/doc_parrot.gif?1597609852",customCategory:"Gif"},{name:":evil_parrot:",short_names:["evil_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609852/10065/evil_parrot.gif?1597609852",customCategory:"Gif"},{name:":headbanging_parrot:",short_names:["headbanging_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609860/10080/headbanging_parrot.gif?1597609860",customCategory:"Gif"},{name:":hypno_parrot_dark:",short_names:["hypno_parrot_dark"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609863/10086/hypno_parrot_dark.gif?1597609863",customCategory:"Gif"},{name:":popcorn_parrot:",short_names:["popcorn_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1495224267/2309/popcorn_parrot.gif?1495224267",customCategory:"Gif"},{name:":unicorn_parrot:",short_names:["unicorn_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609906/10161/unicorn_parrot.gif?1597609906",customCategory:"Gif"},{name:":troll-parrot:",short_names:["troll-parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1533926586/4455/troll-parrot.gif?1533926586",customCategory:"Gif"},{name:":ultra_fast_parrot:",short_names:["ultra_fast_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609906/10160/ultra_fast_parrot.gif?1597609906",customCategory:"Gif"},{name:":thegrokeparrot:",short_names:["thegrokeparrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1567421610/6303/thegrokeparrot.gif?1567421610",customCategory:"Gif"},{name:":among_us_party:",short_names:["among_us_party"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1605479284/10796/among_us_party.gif?1605479284",customCategory:"Gif"},{name:":party_blob:",short_names:["party_blob"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1547582922/5197/party_blob.gif?1547582922",customCategory:"Gif"},{name:":ahhhhhhhhh:",short_names:["ahhhhhhhhh"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1558099591/5711/ahhhhhhhhh.gif?1558099591",customCategory:"Gif"},{name:":among_us_orange_dance:",short_names:["among_us_orange_dance"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1605722420/11386/among_us_orange_dance.gif?1605722420",customCategory:"Gif"},{name:":crewmate:",short_names:["crewmate"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1605479278/11110/crewmate.gif?1605479278",customCategory:"Gif"},{name:":among_us_dead:",short_names:["among_us_dead"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1605479285/10741/among_us_dead.png?1605479285",customCategory:"Png"},{name:":among_us_voted:",short_names:["among_us_voted"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1605479301/11160/among_us_voted.png?1605479301",customCategory:"Png"},{name:":nightking:",short_names:["nightking"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1555301698/5612/nightking.png?1555301698",customCategory:"Png"},{name:":johnsnow:",short_names:["johnsnow"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1555301587/5608/johnsnow.png?1555301587",customCategory:"Png"},{name:":daenery:",short_names:["daenery"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1555301439/5604/daenery.png?1555301439",customCategory:"Png"},{name:":cersei:",short_names:["cersei"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1555301396/5603/cersei.png?1555301396",customCategory:"Png"},{name:":nyancat_big:",short_names:["nyancat_big"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1450458551/184/nyancat_big.gif?1450458551",customCategory:"Gif"},{name:":eevee:",short_names:["eevee"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1479080836/1363/eevee.gif?1479080836",customCategory:"Gif"},{name:":vaporeon:",short_names:["vaporeon"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1479081197/1368/vaporeon.gif?1479081197",customCategory:"Gif"},{name:":jolteon:",short_names:["jolteon"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1479080759/1360/jolteon.gif?1479080759",customCategory:"Gif"},{name:":espeon:",short_names:["espeon"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1479080869/1364/espeon.gif?1479080869",customCategory:"Gif"},{name:":mewtwo:",short_names:["mewtwo"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1450736076/242/mewtwo.png?1450736076",customCategory:"Png"},{name:":poke_pika_wink:",short_names:["poke_pika_wink"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1472722300/1128/poke_pika_wink.png?1472722300",customCategory:"Png"},{name:":kirby:",short_names:["kirby"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1450716258/223/kirby.gif?1450716258",customCategory:"Gif"},{name:":coin:",short_names:["coin"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1490884029/1971/coin.gif?1490884029",customCategory:"Gif"},{name:":baby-yoda:",short_names:["baby-yoda"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1575297777/7233/baby-yoda.png?1575297777",customCategory:"Png"},{name:":storm_trooper:",short_names:["storm_trooper"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1526741134/3958/storm_trooper.gif?1526741134",customCategory:"Gif"},{name:":baby-yoda-soup:",short_names:["baby-yoda-soup"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1575409644/7248/baby-yoda-soup.gif?1575409644",customCategory:"Gif"},{name:":baby_yoda:",short_names:["baby-yoda"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1591793668/9336/baby-yoda.gif?1591793668",customCategory:"Gif"},{name:":love:",short_names:["love"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1492722354/2080/love.gif?1492722354",customCategory:"Gif"},{name:":sheepy:",short_names:["sheepy"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1450319441/5/sheepy.gif?1450319441",customCategory:"Gif"},{name:":kermit_typing:",short_names:["kermit_typing"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1608026376/11743/kermit_typing.gif?1608026376",customCategory:"Gif"},{name:":smudge:",short_names:["smudge"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1606826279/11557/smudge.png?1606826279",customCategory:"Png"},{name:":holy-poop:",short_names:["holy-poop"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1594751185/9689/holy-poop.png?1594751185",customCategory:"Png"},{name:":rage-poop:",short_names:["rage-poop"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1526489538/3928/rage-poop.png?1526489538",customCategory:"Png"},{name:":goldpoop:",short_names:["goldpoop"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1565740433/6175/goldpoop.png?1565740433",customCategory:"Png"},{name:":poop_fire:",short_names:["poop_fire"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1559173484/5752/poop_fire.gif?1559173484",customCategory:"Gif"},{name:":trolldance:",short_names:["trolldance"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1477057420/1271/trolldance.gif?1477057420",customCategory:"Gif"},{name:":troll:",short_names:["troll"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1463602125/429/troll.png?1463602125",customCategory:"Png"},{name:":coronavirus:",short_names:["coronavirus"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1582658942/7898/coronavirus.png?1582658942",customCategory:"Png"},{name:":corona-virus:",short_names:["coronavirus"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1580374434/7652/coronavirus.png?1580374434",customCategory:"Png"},{name:":corona-highfive:",short_names:["corona-highfive"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1600175068/10466/corona-highfive.gif?1600175068",customCategory:"Gif"},{name:":corona_virus:",short_names:["coronavirus"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1583409623/7970/coronavirus.png?1583409623",customCategory:"Png"},{name:":corona_party:",short_names:["corona_party"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1592398908/9398/corona_party.gif?1592398908",customCategory:"Gif"},{name:":angry_trump:",short_names:["angry_trump"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1450319451/91/angry_trump.jpg?1450319451",customCategory:"Png"},{name:":viking_parrot:",short_names:["viking_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609908/10164/viking_parrot.gif?1597609908",customCategory:"Gif"},{name:":zouk_parrot:",short_names:["zouk_parrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609915/10178/zouk_parrot.gif?1597609915",customCategory:"Gif"},{name:":jumping_parrot_jr:",short_names:["jumping_parrot_jr"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1597609868/10095/jumping_parrot_jr.gif?1597609868",customCategory:"Gif"},{name:":virusparrot:",short_names:["virusparrot"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1583753108/8026/virusparrot.png?1583753108",customCategory:"Png"},{name:":cr_angry:",short_names:["cr_angry"],text:"",emoticons:[],keywords:["slack"],imageUrl:"https://emojis.slackmojis.com/emojis/images/1563480734/5984/cr_angry.gif?1563480734",customCategory:"Gif"}],Ke=a(52),Ze=a.n(Ke),$e=a(173),Qe=[{type:"",from:"Angela",to:"",txt:"Seriously? How did he do that...",nameColor:"purple",senderId:"10001"},{type:"",from:"David Bowie",to:"",txt:"lets rock!! :aww-yeah: :headbanging_parrot:",nameColor:"red",senderId:"10002"},{type:"",from:"M.Jackson",to:"",nameColor:"darkgreen",txt:"wow this movie is **** :yuck:",senderId:"10003"},{type:"",from:"Angela",to:"",nameColor:"purple",txt:" :lol: ",senderId:"10001"},{type:"",from:"Christy",to:"",nameColor:"darkorange",txt:"I know what will happen next",senderId:"10005"},{type:"",from:"Sandra",nameColor:"brown",to:"",txt:"no spoilers please! :rage-poop: :watching-you: ",senderId:"10004"}],et=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currUser:null,msg:{type:"",from:"",to:"",txt:"",senderId:"",user:null,sendedMsg:""},msgList:[],users:[],giftName:"",showGift:"",showRecivedGift:"",showRecivedMsg:"",giftPosition:"",socketInfo:[],gift:{},gifts:[],msgForUser:{},msgsFromUsers:[],popupVisible:!1},e.inputRef=s.a.createRef(),e.scrollBarRef=s.a.createRef(),e.handleClick=function(){e.state.popupVisible?document.removeEventListener("click",e.handleOutsideClick,!1):document.addEventListener("click",e.handleOutsideClick,!1),e.setState((function(e){return{popupVisible:!e.popupVisible}}))},e.handleOutsideClick=function(t){e.node.contains(t.target)||e.handleClick()},e.rotatedGiftTxt=function(e){switch(e.name){case"kiss":return"XOXO".split("");case"drink":return"Drink on me!".split("");case"small-popcorn":return"What's Poppin?".split("");default:return""}},e.setupSockets=function(){Fe.emit("chat room",{roomId:e.props.roomId,user:e.props.currUser}),Fe.on("chat room",(function(t,a,n){console.log("firstUser: ",n),e.setState({users:t}),e.state.currUser||e.setState({currUser:a},(function(){console.log("this.state.currUser123:",e.state.currUser)})),e.props.onAddNewUser(t,a,n)})),Fe.on("chat",(function(t){e.setState({msgList:[].concat(Object(y.a)(e.state.msgList),[t])})})),Fe.on("remove-user",(function(t,a){e.setState({users:t})})),Fe.on("receive-gift",(function(t){console.log("RECEIVING NEW gift FROM SOCKET: ",t.name),e.setState({gift:{_gift:t,showRecivedGift:!0}});var a=Object(g.a)(Object(g.a)({},t),{},{id:Ze()(),showRecivedGift:!0});e.setState({gifts:[].concat(Object(y.a)(e.state.gifts),[a])},(function(){setTimeout((function(){var t=e.state.gifts.filter((function(e){return e.id!==a.id}));e.setState({gifts:t})}),5500),console.log("this.state.gifts--\x3e",e.state.gifts)}))})),Fe.on("receive-msg",(function(t){console.log("RECEIVING NEW msg FROM SOCKET: ",t);var a={txt:t.txt,from:t.from,to:t.to,sendedMsg:t.sendedMsg,id:Ze()(),showRecivedMsg:!0};e.setState({msgForUser:a}),e.setState({msgsFromUsers:[].concat(Object(y.a)(e.state.msgsFromUsers),[a])},(function(){setTimeout((function(){var t=e.state.msgsFromUsers.filter((function(e){return e.id!==a.id}));e.setState({msgsFromUsers:t})}),1e4)}))}))},e.cleanUp=function(){e.state.currUser&&Fe.emit("remove-user",{userId:e.state.currUser._id,userRoom:e.props.roomId}),Fe.terminate()},e.onMsgSend=function(){""!==e.state.msg.txt&&e.sendMsg()},e.onMsgEnter=function(t){"Enter"===t.key&&""!==e.state.msg.txt&&e.sendMsg()},e.sendMsg=function(){var t=e.state.msg;t.from=e.state.currUser.username,t.senderId=e.state.currUser._id,Fe.emit("chat",t),"@"===e.state.msg.txt.charAt(0)&&(console.log("receive-msg"),console.log("receive-msg from",e.state.currUser),console.log("receive-msg to",e.state.msg.user),Fe.emit("receive-msg",{from:e.state.currUser,user:e.state.msg.user,txt:e.state.msg.txt,sendedMsg:e.state.msg.sendedMsg,to:e.state.msg.to})),e.removeMsg(),e.props.hideEmojis()},e.closeMsg=function(t){var a=e.state.msgsFromUsers.filter((function(e){return e.id!==t.id}));e.setState({msgsFromUsers:a})},e.onMsgInput=function(t){var a=e.state.msg;a.txt=t.target.value,e.setState({msg:a})},e.onEmojiSelect=function(t){var a=e.state.msg;t.native?(a.txt+=t.native,e.setState({msg:a})):(a.txt+=t.name,e.setState({msg:a}))},e.onUsernameSelect=function(t){if(t._id!==e.state.currUser._id){var a=e.inputRef.current;a.value="@"+t.username+" ";var n={to:t.username,txt:a.value,user:t};e.setState({msg:n}),a.focus()}},e.ReplyToSender=function(t,a){if(t._id!==e.state.currUser._id){var n=e.inputRef.current;n.value="@"+t.username+" ";var s={to:t.username,txt:n.value,user:t,sendedMsg:a};e.setState({msg:s}),n.focus()}},e.sendGift=function(t,a,n){e.setState({giftName:t,showGift:!0,giftPosition:a}),console.log("GIFT POSITION: ",a),console.log("user that recived gift: ",n);var s={user:n,giftName:t,sender:e.state.currUser};Fe.emit("receive-gift",{gift:s}),setTimeout((function(){e.setState({showGift:!1})}),2e3)},e.removeMsg=function(){e.setState({privateMsg:{isPrivate:!1,to:""}}),e.setState({msg:{type:"",from:"",to:"",txt:""}})},e.replaceWithGif=function(t){var a=t=e.replaceWithTagName(t);return qe.forEach((function(e){for(var t="\n      <img src=".concat(e.imageUrl," className='gif-img'></img>\n    "),n="\n      <img src=".concat(e.imageUrl," className='gif-img gif-img-trolldance'></img>\n    "),s="";a!==s;){s=a;var r=e.name;a=":trolldance:"===r?a.replace(r,n):a.replace(r,t)}})),a},e.replaceWithTagName=function(t){var a=t;return e.state.users.forEach((function(e){var t="<span className='name-tag'>".concat(e.username,"</span>"),n=e.username;a=a.replace(n,t)})),a},e.scrollDown=function(){var t=e.scrollBarRef.current;t&&t.scrollToBottom()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.cleanUp),this.props.currUser&&this.setState({currUser:this.props.currUser}),this.setupSockets(),this.setState({msgList:Qe})}},{key:"componentWillUnmount",value:function(){this.cleanUp(),window.removeEventListener("beforeunload",this.cleanUp)}},{key:"componentDidUpdate",value:function(){this.scrollDown()}},{key:"render",value:function(){var e=this;return this.state.currUser?s.a.createElement(s.a.Fragment,null,this.state.msgsFromUsers.map((function(t){return s.a.createElement("div",{className:"msgForUser ".concat(t.showRecivedMsg?"slide-left":"hidden")},t.sendedMsg&&s.a.createElement("div",{className:"old-msg"},s.a.createElement("span",null,"About:"),s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.replaceWithGif(t.sendedMsg.slice(t.to.length+1))}})),s.a.createElement("div",{className:"new-msg"},s.a.createElement("div",{className:"sender-avatar-container"},s.a.createElement("div",{className:"sender-avatar",style:{backgroundImage:"url(".concat(t.from.avatar?t.from.avatar:"",")")}})),s.a.createElement("div",{className:"sender-msg-container"},s.a.createElement("div",{className:"sender-msg-name"},t.from.username),s.a.createElement("div",{className:"sender-msg-txt",dangerouslySetInnerHTML:{__html:e.replaceWithGif(t.txt.slice(t.to.length+1))}}))),s.a.createElement("div",{className:"reply-btn",onClick:function(){e.ReplyToSender(t.from,t.txt)}},"Reply"),s.a.createElement("div",{className:"close-msg",onClick:function(){e.closeMsg(t)}},"X"))})),this.state.gifts.map((function(t){return t.showRecivedGift?s.a.createElement("div",{className:"recived-gift sended-gift sended-".concat(t.name," ").concat(t.showRecivedGift?"start-animation":"hidden")},s.a.createElement("h1",null,e.rotatedGiftTxt(t).map((function(e,t){return s.a.createElement("span",{className:"char char-".concat(t+1),key:t},e)}))),s.a.createElement("div",{className:"gift-sender"},s.a.createElement("div",{className:"avatar-container"},s.a.createElement("div",{className:"avatar-img",style:{backgroundImage:"url(".concat(t.sender.avatar?t.sender.avatar:"",")")}})),s.a.createElement("div",{className:"name"},t.sender.username))):""})),s.a.createElement("section",{className:"chat ".concat(this.props.fullScreenChat())},this.props.isVisible&&s.a.createElement(Je,{socketInfo:this.state.socketInfo,msgForUser:this.state.msgForUser,movie:this.props.movie,sendGift:this.sendGift,users:this.state.users,currUser:this.state.currUser,onUsernameSelect:this.onUsernameSelect,fullScreenChatBackground:this.props.fullScreenChatBackground,isFullScreen:this.props.isFullScreen,toggleFullScreen:this.props.toggleFullScreen,onGoBack:this.props.onGoBack}),s.a.createElement("div",{className:"chat-window ".concat(window.innerWidth>813?this.props.fullScreenChatBackground():"")},this.props.showParticles&&s.a.createElement(ne.a,{canvasClassName:"chat-particles",params:{particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#f01548"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}),s.a.createElement("div",{className:"chat-box",ref:function(t){e.node=t}},this.props.isChatVisible&&s.a.createElement($e.a,{ref:this.scrollBarRef,style:{color:"red",direction:"rtl"}},this.state.msgList.map((function(t){return s.a.createElement("div",{key:Ze()(),style:{direction:"ltr"},className:"msg-container ".concat(e.state.currUser&&t.senderId===e.state.currUser._id?"left":"right","-msg ").concat(e.props.fullScreenMsg())},s.a.createElement("div",{className:"chat-msg from-".concat(e.state.currUser&&t.senderId===e.state.currUser._id?"me":"user"," ").concat(e.state.currUser&&t.senderId===e.state.currUser._id?e.props.fullScreenMessageMe():e.props.fullScreenMessageUser()),key:Ze()()},s.a.createElement("div",{className:"msg-sender"},e.state.currUser&&t.senderId===e.state.currUser._id?"Me":t.from),s.a.createElement("div",{className:"msg-content",dangerouslySetInnerHTML:{__html:e.replaceWithGif(t.txt)}})))}))),s.a.createElement("div",{className:"gift ".concat(this.state.showGift?this.state.giftName:"hidden"),style:{left:"".concat(this.state.giftPosition,"px")}}),this.state.popupVisible&&s.a.createElement("div",{className:"emojis"},s.a.createElement(Le.a,{style:{width:"100%"},custom:qe,theme:"light",perLine:6,showPreview:!1,showSkinTones:!1,onSelect:this.onEmojiSelect,exclude:["flags","symbols","nature","search","places","objects","activity"],emojiTooltip:!0}))),this.props.isChatVisible&&s.a.createElement("div",{className:"chat-input ".concat(this.props.fullScreenInput())},s.a.createElement("input",{ref:this.inputRef,type:"text",value:this.state.msg.txt,placeholder:"Type a message",onChange:this.onMsgInput,onKeyPress:this.onMsgEnter,onFocus:this.props.hideEmojis}),s.a.createElement("div",{className:"input-icon ".concat(""===this.state.msg.txt?"":"msg-content")},s.a.createElement(Te.e,{size:"20px",onClick:this.onMsgSend})),s.a.createElement("div",{className:"input-icon emoji ".concat(this.props.showEmojis?"selected":""),onClick:this.handleClick},s.a.createElement(Te.a,{size:"20px"})))))):s.a.createElement("div",null,"Loading...")}}]),a}(n.Component),tt=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser}}))(et),at=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={reactions:["like","heart","angry","sad","wow","lol"]},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.onSelectReaction;return s.a.createElement("div",{className:"reactions-menu"},this.state.reactions.map((function(t,a){return s.a.createElement("span",{key:a,className:"reaction ".concat(t),onClick:function(){e(t)}})})))}}]),a}(s.a.Component),nt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showVolume:!1,showReactions:!1,reactions:[],reactionIds:[]},e.onSelectReaction=function(t){var a={id:Ze()(),type:t,posX:e.getRandomNum(5,8)};e.setState({reactions:[].concat(Object(y.a)(e.state.reactions),[a])}),Fe.emit("reactions",a),setTimeout((function(){Fe.emit("reaction-delete",a.id)}),2e3),e.removeReaction(a.id)},e.getRandomNum=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.removeReaction=function(t){var a=e.state.reactions;a=a.filter((function(e){return e.id!==t})),e.setState({reactions:a})},e.onToggleReactions=function(){e.setState({showReactions:!e.state.showReactions})},e.hideReactions=function(){e.setState({showReactions:!1})},e.changeVolume=function(t){e.props.onVolumeChange(t.target.value)},e.onVolumeToggle=function(){e.setState({showVolume:!e.state.showVolume})},e.hideVolume=function(){e.setState({showVolume:!1})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;Fe.on("reactions",(function(t){e.setState({reactions:[].concat(Object(y.a)(e.state.reactions),[t])})})),Fe.on("reaction-delete",(function(t){e.removeReaction(t)}))}},{key:"componentWillUnmount",value:function(){this.setState({reactions:[]})}},{key:"render",value:function(){return s.a.createElement("div",{className:"control-panel ".concat(this.props.fullScreenControlPanel())},s.a.createElement("div",{className:"reactions",onClick:this.onToggleReactions},s.a.createElement("div",{className:"reactions-container ".concat(this.state.showReactions?"":"hidden")},s.a.createElement(at,{hideReactions:this.hideReactions,onSelectReaction:this.onSelectReaction})),s.a.createElement(Te.c,{style:{width:"70%",height:"70%"}})),s.a.createElement("div",{onClick:this.props.onTogglePlay,className:"movie-play-btn"},this.props.isPlaying?s.a.createElement("i",{className:"fas fa-grip-lines-vertical"}):s.a.createElement("i",{className:"fas fa-play"})),s.a.createElement("div",{className:"volume",onClick:this.onVolumeToggle},s.a.createElement("input",{type:"range",id:"volume",className:this.state.showVolume?"":"hidden",name:"volume",min:"0",max:"1",step:"0.01",value:this.props.volume,onChange:this.changeVolume}),s.a.createElement(Te.d,{style:{width:"100%",height:"100%"}})),s.a.createElement("div",{onClick:this.props.toggleFullScreen,className:"full-sceen-btn"},!this.props.isFullScreen&&s.a.createElement("i",{className:"fas fa-expand-arrows-alt"}),this.props.isFullScreen&&s.a.createElement("i",{className:"fas fa-compress-arrows-alt"})),this.state.reactions.map((function(e){return s.a.createElement("div",{style:{right:"".concat(e.posX,"%")},key:e.id,className:"reaction-animation ".concat(e.type)})})))}}]),a}(s.a.Component),st=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={phrases:["Grab your popcorn","Enjoy!"],currTxt:"Take a seat",txtInterval:null,hideSpinner:!1},e.animateText=function(){var t=0,a=setInterval((function(){"Enjoy"===e.state.phrases[t]&&e.setState({hideSpinner:!0}),t<2&&e.setState({currTxt:e.state.phrases[t]}),t++}),2e3);e.setState({txtInterval:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.animateText()}},{key:"componentWillUnmount",value:function(){this.setState({txtInterval:null})}},{key:"render",value:function(){return s.a.createElement("div",{className:"movie-loader"},s.a.createElement("div",{className:this.state.hideSpinner?"hidden":"red-spinner"},s.a.createElement("img",{style:{width:"100%",height:"100%"},src:"https://i.gifer.com/8Etj.gif",alt:""})),s.a.createElement("div",null,s.a.createElement(Ge.a,{mode:"out-in"},s.a.createElement(Re.a,{key:this.state.currTxt,addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},classNames:"phrase"},s.a.createElement("div",{className:"phrases ".concat(this.state.hideSpinner?"large-text":"")},this.state.currTxt)))))}}]),a}(s.a.Component),rt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,showVideo:!1,volume:.2,currTime:1,timeSet:!1,currUser:null,isFullScreen:!1,showParticles:!0,isVisible:!0,isChatVisible:!0,startX:0,startY:0,endX:0,endY:0,showEmojis:!1,duration:null,played:null,secondsElapsed:null,notFirstUser:!1,newUser:{},allowedToJoin:!1,request:!1,isFirstUser:!1,firstUser:{},isPlaying:!0},e.playerRef=s.a.createRef(),e.onTogglePlay=function(){e.setState({isPlaying:!e.state.isPlaying},(function(){Fe.emit("toggle-play-btn",e.state.isPlaying)}))},e.onAddNewUser=function(t,a,n){a._id===n._id?(e.setState({allowedToJoin:!0}),e.setState({firstUser:n}),e.setState({isFirstUser:!0})):(e.setState({isFirstUser:!1}),e.setState({allowedToJoin:!1}),console.log("bbbbbbbbbbbbbbbbbb",n),n&&Fe.emit("get-first-user",n),n&&Fe.emit("sending-request-for-approval",{newUser:a,firstUser:n}),Fe.on("sending-currTime-to-user",(function(t){e.setState({currTime:t.currTime}),e.setState({allowedToJoin:!0})})))},e.onDuration=function(t){console.log("onDuration:",t),e.setState({duration:t})},e.onProgress=function(t){if(e.state.isPlaying)if(e.state.showVideo||setTimeout((function(){e.setState({showVideo:!0})}),6500),e.state.isFirstUser){console.log("this.state.currTime",e.state.currTime);var a=e.playerRef.current;if(a&&!e.state.timeSet&&e.state.allowedToJoin&&(a.seekTo(e.state.currTime,"seconds"),e.setState({timeSet:!0})),!e.state.duration)return;var n=t.played*e.state.duration;n!==e.state.secondsElapsed&&(e.setState({currTime:n}),console.log("currTime",n))}else{if(e.onGetCurrTime(),!e.state.duration)return;var s=t.played*e.state.duration;s!==e.state.secondsElapsed&&(e.setState({currTime:s}),console.log("currTime",s))}},e.onGetCurrTime=function(){console.log("this.state.currTime",e.state.currTime);var t=e.playerRef.current;t&&!e.state.timeSet&&e.state.allowedToJoin&&(t.seekTo(e.state.currTime,"seconds"),e.setState({timeSet:!0}))},e.onPlaying=function(){return!!e.state.currTime},e.onVolumeChange=function(t){e.setState({volume:t})},e.onMovieReady=function(){var t=e.playerRef.current;t&&e.state.allowedToJoin&&t.seekTo(e.state.currTime)},e.updateCurrTime=function(){Fe.emit("timestamp",0)},e.toggleEmojis=function(){e.setState({showEmojis:!e.state.showEmojis})},e.hideEmojis=function(){e.setState({showEmojis:!1})},e.toggleFullScreen=function(){window.innerWidth<813?e.setState({isFullScreen:!1}):e.setState({isFullScreen:!e.state.isFullScreen})},e.fullScreenWatchRoom=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-watch-room":""},e.fullScreenChat=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-chat":""},e.fullScreenMsg=function(){return e.state.isFullScreen&&window.innerWidth,""},e.fullScreenInput=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-chat-input":""},e.fullScreenChatBackground=function(){return e.state.isFullScreen&&window.innerWidth>813?(e.setState({showParticles:!1}),"chat-background"):(e.setState({showParticles:!0}),"")},e.fullScreenRoomWindow=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-room-window":""},e.fullScreenFrame=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-frame":""},e.fullScreenIframe=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-iframe":""},e.fullScreenControlPanel=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-control-panel":""},e.fullScreenMessageMe=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-message-me":""},e.fullScreenMessageUser=function(){return e.state.isFullScreen&&window.innerWidth>813?"fullScreen-message-user":""},e.onGoBack=function(){e.props.history.goBack()},e.handleTouchStart=function(t){var a=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY;e.setState({startX:a}),e.setState({startY:n})},e.handleTouchMove=function(t){var a=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY;e.setState({endX:a}),e.setState({endY:n})},e.handleTouchEnd=function(){var t=e.state,a=t.startX,n=t.startY,s=t.endX,r=t.endY;a-s>150&&window.innerWidth>414&&e.setState({isChatVisible:!1}),a-s<-150&&e.setState({isChatVisible:!0}),n-r>150&&window.innerWidth>414&&e.setState({isVisible:!1}),n-r<-150&&e.setState({isVisible:!0})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadMovie(),this.setState({currUser:this.props.loggedInUser}),Fe.setup(),Fe.on("get-first-user",(function(t){e.setState({isFirstUser:t.isFirstUser})})),Fe.on("sending-request-for-approval",(function(t){Fe.emit("sending-currTime-to-user",{newUser:t.newUser,currTime:e.state.currTime})})),Fe.on("toggle-play-btn",(function(t){e.setState({isPlaying:t})}))}},{key:"componentWillUnmount",value:function(){this.setState({currTime:1}),this.setState({interval:null})}},{key:"loadMovie",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,O.getById(t);case 3:a=e.sent,this.setState({movie:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.movie?s.a.createElement("div",{className:"watch-room ".concat(this.fullScreenWatchRoom()),ref:function(t){e.node=t}},s.a.createElement("div",{className:"room-window ".concat(this.fullScreenRoomWindow()),onTouchStart:function(t){return e.handleTouchStart(t)},onTouchMove:function(t){return e.handleTouchMove(t)},onTouchEnd:function(){return e.handleTouchEnd()}},s.a.createElement(tt,{roomId:this.state.movie._id,currUser:this.state.currUser,movie:this.state.movie,fullScreenChat:this.fullScreenChat,fullScreenChatBackground:this.fullScreenChatBackground,toggleFullScreen:this.toggleFullScreen,isFullScreen:this.state.isFullScreen,fullScreenMessageMe:this.fullScreenMessageMe,fullScreenMessageUser:this.fullScreenMessageUser,fullScreenMsg:this.fullScreenMsg,fullScreenInput:this.fullScreenInput,showParticles:this.state.showParticles,onGoBack:this.onGoBack,isVisible:this.state.isVisible,isChatVisible:this.state.isChatVisible,toggleEmojis:this.toggleEmojis,hideEmojis:this.hideEmojis,showEmojis:this.state.showEmojis,onAddNewUser:this.onAddNewUser,onUpdateFirstUser:this.onUpdateFirstUser}),s.a.createElement("section",{className:"frame ".concat(this.fullScreenFrame())},!this.state.showVideo&&s.a.createElement(st,null),s.a.createElement("div",{className:"video disabled player-wrapper ".concat(this.state.showVideo?"":"hide-video")},s.a.createElement(xe.a,{className:"react-player",ref:this.playerRef,url:this.state.movie.videoUrl,width:"100%",height:"100%",muted:!this.state.showVideo,volume:this.state.volume,playing:this.onPlaying&&this.state.isPlaying,onDuration:this.onDuration,onProgress:this.onProgress})),s.a.createElement(nt,{onVolumeChange:this.onVolumeChange,volume:this.state.volume,toggleFullScreen:this.toggleFullScreen,isFullScreen:this.state.isFullScreen,fullScreenControlPanel:this.fullScreenControlPanel,onTogglePlay:this.onTogglePlay,isPlaying:this.state.isPlaying}),s.a.createElement("div",{className:"reaction"})))):s.a.createElement("div",null,"Loading....")}}]),a}(n.Component),ot=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser}}))(Object(p.o)(rt)),it=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showComponent:!1},e.avgReview=function(e){var t=0,a=0;return e.reviews?(e.reviews.forEach((function(e){e.rating&&(t+=parseInt(e.rating),a++)})),(t/a).toFixed(1)):0},e.toggleFavoriteList=function(t){e.props.loggedInUser?(console.log("loggedInUser.favMovies:",e.props.loggedInUser.favMovies),e.props.toggleFavUserList(e.props.loggedInUser,t),console.log("favoriteList:",e.props.favoriteList)):e.onOpenModal()},e.onOpenModal=function(){e.setState({showComponent:!e.state.showComponent})},e.isFavoriteMovie=function(t){return e.props.loggedInUser&&e.props.loggedInUser.favMovies.find((function(e){return e._id===t._id}))?"favoriteBtnStyle":""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log("this.props.appCondition",this.props.appCondition)}},{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=t.toggleView,r=t.appCondition;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"genres-movie-img-container",style:{backgroundImage:"url(".concat(a.coverUrl?a.coverUrl:"",")")}}),s.a.createElement("div",{className:"info-continer-movie-card"},s.a.createElement("div",{className:"title ".concat(a.title.length>11?"ellipsis":"")},a.title),s.a.createElement("div",{className:"genres-container"},a.genres.map((function(e){return s.a.createElement("div",{className:"genre"},e)}))),r&&s.a.createElement("div",{className:"btns-container"},s.a.createElement("span",{className:"movie-btn movie-btn-details",onClick:function(){n("main")}},s.a.createElement(c.Link,{to:"/movie/".concat(a._id)},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement("span",{className:"movie-btn",onClick:function(){n("main")}},s.a.createElement(c.Link,{to:"/room/".concat(a._id)},s.a.createElement("i",{className:"far fa-play-circle"}))),s.a.createElement("span",{className:"movie-btn",onClick:function(){e.toggleFavoriteList(a)}},"favoriteBtnStyle"!==this.isFavoriteMovie(a)?s.a.createElement(c.Link,null,s.a.createElement("i",{className:"fas fa-plus"})):s.a.createElement(c.Link,null,s.a.createElement("i",{className:"fas fa-check"})))),!r&&s.a.createElement("div",{className:"btns-container"},s.a.createElement("span",{className:"movie-btn movie-btn-details"},s.a.createElement(c.Link,{to:"/movie/".concat(a._id)},s.a.createElement("i",{className:"fas fa-info-circle"}))),s.a.createElement("span",{className:"movie-btn"},s.a.createElement(c.Link,{to:"/room/".concat(a._id)},s.a.createElement("i",{className:"far fa-play-circle"}))),s.a.createElement("span",{className:"movie-btn",onClick:function(){e.toggleFavoriteList(a)}},"favoriteBtnStyle"!==this.isFavoriteMovie(a)?s.a.createElement(c.Link,null,s.a.createElement("i",{className:"fas fa-plus"})):s.a.createElement(c.Link,null,s.a.createElement("i",{className:"fas fa-check"})))),s.a.createElement("div",{className:"rate-container"},s.a.createElement("div",null,s.a.createElement("i",{className:"far fa-eye"}),a.viewersNumber?a.viewersNumber:Math.floor(150*Math.random()+50)),"\u2b50 ",this.avgReview(a),"/10")),this.state.showComponent?s.a.createElement(ue,{onOpenModal:this.onOpenModal}):null)}}]),a}(n.Component),ct={toggleFavUserList:W},lt=Object(i.b)((function(e){return{favoriteList:e.movie.favoriteList,loggedInUser:e.user.loggedInUser}}),ct)(it);function mt(e){var t=e.movies,a=e.appCondition,n=t.slice(12,22);return s.a.createElement("div",{className:"movie-list"},s.a.createElement("div",{className:"movie-category"},s.a.createElement("div",{className:"category-title"},s.a.createElement("h4",{className:"category-name"},"Popular in WatChat")),s.a.createElement("div",{className:"category-movies"},n.map((function(e){return s.a.createElement("div",{key:e._id,className:"movie-container"},s.a.createElement(lt,{className:"movie-preview",movie:e,appCondition:a}))})))),["Action","Comedy","Crime","Drama","Fantasy","Adventure","Horror","Sci-Fi","Thriller"].map((function(e){return s.a.createElement("div",{className:"movie-category"},s.a.createElement("div",{className:"category-title"},s.a.createElement("h4",{className:"category-name"},e)),s.a.createElement("div",{className:"category-movies"},t.filter((function(t){return t.genres.includes(e)})).map((function(e){return s.a.createElement("div",{key:e._id,className:"movie-container"},s.a.createElement(lt,{className:"movie-preview",movie:e}))}))))})))}function ut(e){var t=e.movies,a=e.toggleView,n=e.appCondition;return s.a.createElement("div",{className:"filtered-movie-list"},s.a.createElement("div",{className:"movie-category"},s.a.createElement("div",{className:"category-movies"},t.map((function(e){return s.a.createElement("div",{key:e._id,className:"movie-container"},s.a.createElement(lt,{className:"movie-preview",movie:e,toggleView:a,appCondition:n}))})))))}var dt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"getMoviesForDisplay",value:function(){var e=this,t=this.props.movies.filter((function(t){return t.genres.includes(e.props.currGenre)}));return"All"===this.props.currGenre?this.props.movies.filter((function(t){return t.title.toLowerCase().includes(e.props.currSearch.toLowerCase())})):t.filter((function(t){return t.title.toLowerCase().includes(e.props.currSearch.toLowerCase())}))}},{key:"render",value:function(){var e,t=this.props,a=t.currGenre,n=t.currSearch,r=t.currCmp,o=t.toggleView,i=t.appCondition;return e="navFilter"===r?this.props.movies:this.getMoviesForDisplay(),s.a.createElement("div",null,s.a.createElement("div",{className:"filtered-movies-section ".concat("navFilter"===r?"nav-filter-style":"")},0===e.length?s.a.createElement("div",{className:"no-movies-container"},s.a.createElement("div",{className:"no-movies-msg"},s.a.createElement("h2",null,"Sorry"),"No movies Found",n&&""!==n?s.a.createElement("span",null,' for "',n,'"'):null,a&&"All"!==a?s.a.createElement("span",null,' inside "',a,'" Genre'):null),s.a.createElement("img",{className:"no-movies-img",src:"../assets/img/no-movies-img.png",alt:""})):s.a.createElement(ut,{movies:e,toggleView:o,appCondition:i})))}}]),a}(n.Component),pt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={active:"All",activeBtn:!1,keyUpValue:!1,search:""},e.buttons=["All","Action","Comedy","Crime","Drama","Fantasy","Adventure","Romance","Sci-Fi","Thriller","Horror","Fairy Tale"],e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.currCategory&&(this.setState({active:this.props.currCategory}),this.setState({activeBtn:!0},(function(){e.changeGenre(e.props.currCategory)})))}},{key:"changeToActive",value:function(e){var t=this;this.setState({active:e}),"All"===e?this.setState({activeBtn:!1},(function(){t.changeGenre(e)})):this.setState({activeBtn:!0},(function(){t.changeGenre(e)}))}},{key:"changeGenre",value:function(e){this.toggleView(),this.props.currGenre(e)}},{key:"onKeyUpValue",value:function(e){var t=this;e.target.value?this.setState({keyUpValue:!0,search:e.target.value},(function(){t.searchValue()})):this.setState({keyUpValue:!1,search:e.target.value},(function(){t.searchValue()}))}},{key:"searchValue",value:function(){this.toggleView(),this.props.currSearch(this.state.search)}},{key:"toggleView",value:function(){this.state.activeBtn||this.state.keyUpValue?this.props.toggleView("FilteredMovie"):this.props.toggleView("MovieList")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"movies-side-nav"},s.a.createElement("div",{className:"movies-sidenav"},s.a.createElement("div",{className:"side-nav-main"},s.a.createElement("div",null,"Search Movie"),s.a.createElement("input",{type:"text",onKeyUp:this.onKeyUpValue.bind(this)})),this.buttons.map((function(t){return s.a.createElement("div",{className:"side-btn ".concat(e.state.active===t?"active-side-btn":""),onClick:function(){return e.changeToActive(t)}},t)}))))}}]),a}(n.Component),vt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{search:"",minYear:-1/0,maxYear:1/0,type:"All"},currView:"MovieList",currGenre:"All",currSearch:"",appCondition:!1},e.cmpMap={MovieList:mt,FilteredMovie:dt},e.toggleView=function(t){e.setState({currView:t})},e.currGenre=function(t){e.setState({currGenre:t})},e.currSearch=function(t){e.setState({currSearch:t})},e}return Object(m.a)(a,[{key:"DynamicCmp",value:function(e){switch(e.currView){case"MovieList":return s.a.createElement(mt,e);case"FilteredMovie":return s.a.createElement(dt,e);default:return s.a.createElement("h1",null,"Something went wrong")}}},{key:"componentDidMount",value:function(){var e=this.props.match.params.category;console.log("currCategory",e),this.currGenre(e),e&&this.toggleView("FilteredMovie")}},{key:"render",value:function(){var e=this.props.movies,t=this.state.currView,a=this.cmpMap[t],n=this.props.match.params.category;return e?s.a.createElement("div",{className:"movies-page"},s.a.createElement(pt,{toggleView:this.toggleView,currGenre:this.currGenre,currSearch:this.currSearch,currCategory:n}),s.a.createElement("div",{className:"main-section"},s.a.createElement(a,{currView:t,movies:e,currGenre:this.state.currGenre,currSearch:this.state.currSearch,appCondition:this.state.appCondition}))):s.a.createElement("div",null,"Loading....")}}]),a}(n.Component),gt={loadMovies:M,logout:D},ht=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser}}),gt)(vt),ft=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currGenre:e.props.location.genre.name},e.changeCategory=function(){e.setState({currGenre:e.props.location.genre.name})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.loadMovies(this.state.filterBy)}},{key:"render",value:function(){var e=this,t=this.props.movies,a=t.filter((function(t){return t.genres.includes("".concat(e.state.currGenre))}));return t?s.a.createElement(s.a.Fragment,null,console.log(t),s.a.createElement("div",{className:"movie-app"},s.a.createElement("div",{className:"main-header-container"},s.a.createElement("div",{className:"hero-slider"},s.a.createElement("div",{className:"slide1"},s.a.createElement("div",{className:"text-inside-slide"},s.a.createElement("div",{className:"slide-upper-text-container"},s.a.createElement("div",{className:"slide-title"},"Wrath of Titans"),s.a.createElement("div",{className:"slide-genres"},s.a.createElement("div",{className:"genre1"},"Action"),s.a.createElement("div",{className:"genre2"},"Adventure"),s.a.createElement("div",{className:"genre3"},"Fantasy")),s.a.createElement("div",{className:"slide-btns"},s.a.createElement("div",{className:"slide-btn1 slide-btn"},"watch movie"),s.a.createElement("div",{className:"slide-btn2 slide-btn"},"view info"),s.a.createElement("div",{className:"slide-btn3 slide-btn"},"+ add to favorite"))),s.a.createElement("div",{className:"slide-rate"},s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star-half-alt star-color"}),s.a.createElement("i",{className:"far fa-star star-color"})))),s.a.createElement("div",{className:"slide2"},s.a.createElement("div",{className:"text-inside-slide"},s.a.createElement("div",{className:"slide-upper-text-container"},s.a.createElement("div",{className:"slide-title"},"Guardians of the Galaxy"),s.a.createElement("div",{className:"slide-genres"},s.a.createElement("div",{className:"genre1"},"Action"),s.a.createElement("div",{className:"genre2"},"Adventure"),s.a.createElement("div",{className:"genre3"},"Comedy")),s.a.createElement("div",{className:"slide-btns"},s.a.createElement("div",{className:"slide-btn1 slide-btn"},"watch movie"),s.a.createElement("div",{className:"slide-btn2 slide-btn"},"view info"),s.a.createElement("div",{className:"slide-btn3 slide-btn"},"+ add to favorite"))),s.a.createElement("div",{className:"slide-rate"},s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star-half-alt star-color"}),s.a.createElement("i",{className:"far fa-star star-color"})))),s.a.createElement("div",{className:"slide3"},s.a.createElement("div",{className:"text-inside-slide"},s.a.createElement("div",{className:"slide-upper-text-container"},s.a.createElement("div",{className:"slide-title slide-dark-text"},"Pirates of the Caribbean"),s.a.createElement("div",{className:"slide-genres"},s.a.createElement("div",{className:"genre1 slide-dark-text"},"Action"),s.a.createElement("div",{className:"genre2 slide-dark-text"},"Adventure"),s.a.createElement("div",{className:"genre3 slide-dark-text"},"Fantasy")),s.a.createElement("div",{className:"slide-btns"},s.a.createElement("div",{className:"slide-btn1 slide-btn"},"watch movie"),s.a.createElement("div",{className:"slide-btn2 slide-btn slide-dark-text"},"view info"),s.a.createElement("div",{className:"slide-btn3 slide-btn slide-dark-text"},"+ add to favorite"))),s.a.createElement("div",{className:"slide-rate"},s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star-half-alt star-color"}),s.a.createElement("i",{className:"far fa-star star-color"})))),s.a.createElement("div",{className:"slide4"},s.a.createElement("div",{className:"text-inside-slide"},s.a.createElement("div",{className:"slide-upper-text-container"},s.a.createElement("div",{className:"slide-title"},"IT"),s.a.createElement("div",{className:"slide-genres"},s.a.createElement("div",{className:"genre1"},"Horror")),s.a.createElement("div",{className:"slide-btns"},s.a.createElement("div",{className:"slide-btn1 slide-btn"},"watch movie"),s.a.createElement("div",{className:"slide-btn2 slide-btn"},"view info"),s.a.createElement("div",{className:"slide-btn3 slide-btn"},"+ add to favorite"))),s.a.createElement("div",{className:"slide-rate"},s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star star-color"}),s.a.createElement("i",{className:"fas fa-star-half-alt star-color"}),s.a.createElement("i",{className:"far fa-star star-color"})))))),console.log("this.props.location.genre.name",this.props.location.genre.name),s.a.createElement("div",{className:"movie-list"},s.a.createElement("div",{className:"movie-category"},s.a.createElement("div",{className:"category-title"},s.a.createElement("h4",{className:"category-name"},this.state.genre),s.a.createElement("h4",{className:"all-btn"},"See All ",a.length)),s.a.createElement("div",{className:"category-movies"},a.map((function(e){return s.a.createElement("div",{key:e._id,className:"movie-container"},s.a.createElement("div",{className:"movie-preview"},s.a.createElement("div",{className:"movie-img-container",style:{backgroundImage:"url(".concat(e.coverUrl?e.coverUrl:"",")")}})),s.a.createElement("div",{className:"btns-container"},s.a.createElement("span",{className:"movie-btn movie-btn-details"},s.a.createElement(c.Link,{to:"/movie/".concat(e._id)},"Details"))))}))))))):s.a.createElement("div",null,"Loading....")}}]),a}(n.Component),Et={loadMovies:M,logout:D},yt=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser}}),Et)(ft),kt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.loadMovies()}},{key:"getMovies",value:function(e){switch(e){case"editors-adventure":return this.props.movies.filter((function(e){return"X-Men: Dark Phoenix"===e.title||"Iorn-Man"===e.title||"Wrath of the Titans"===e.title||"Back to the Future"===e.title||"Hellboy"===e.title||"Avatar"===e.title}));case"all-adventure":return this.props.movies.filter((function(e){return e.genres.includes("Adventure")}));case"editors-action":return this.props.movies.filter((function(e){return"Avengers: Endgame"===e.title||"Spider-Man: Far from Home"===e.title||"The Suicide Squad"===e.title||"The Batman"===e.title||"Iorn-Man"===e.title||"X-Men: Dark Phoenix"===e.title}));case"all-action":return this.props.movies.filter((function(e){return e.genres.includes("Action")}));case"editors-horror":return this.props.movies.filter((function(e){return"IT"===e.title||"Texas Chainsaw"===e.title||"A Nightmare on Elm Street 3: Dream Warriors"===e.title||"GRETEL & HANSEL"===e.title||"Zombieland: Double Tap"===e.title||"Crawl"===e.title}));case"all-horror":return this.props.movies.filter((function(e){return e.genres.includes("Horror")}));default:return""}}},{key:"render",value:function(){var e=this.getMovies(this.props.match.params.category);return e?s.a.createElement("div",{className:"editors-movies-page",id:"top"},s.a.createElement("div",null,e.map((function(e,t){return s.a.createElement("div",{className:"".concat("direction-"+(t%2?"r":"l"))},s.a.createElement("div",{className:"container "},s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{src:"".concat(e.wideCoverUrl),alt:""}),s.a.createElement("div",{className:"before-img"})),s.a.createElement("div",{className:"movie-details"},s.a.createElement("div",{className:"title"},e.title),s.a.createElement("div",{className:"description"},e.description),s.a.createElement("div",{className:"genres"},e.genres.map((function(e){return s.a.createElement("span",null,e," ")}))),s.a.createElement("div",{className:"year"},e.year," |",s.a.createElement("span",null," ",e.duration)),s.a.createElement(c.Link,{to:"/movie/".concat(e._id)},s.a.createElement("div",{className:"trailer-btn"},"More Info")))))})))):s.a.createElement("div",null,"Loading....")}}]),a}(n.Component),bt={loadMovies:M},wt=Object(i.b)((function(e){return{movies:e.movie.movies}}),bt)(kt),Nt=[{path:"/",component:ge},{path:"/about",component:he},{path:"/movies",component:ht},{path:"/movies/:category",component:ht},{path:"/genre",component:yt},{path:"/Movie/:id",component:ke},{path:"/user",component:_e},{path:"/room/:id",component:ot},{path:"/editor-movies/:category",component:wt}],jt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isShown:!0},e.closeModal=function(){e.setState({isShown:!1}),e.props.onOpenUserModal()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.isShown;return s.a.createElement("div",{className:"modal-wrapper ".concat(e?"":"hide"),onClick:this.closeModal},s.a.createElement("div",{className:"user-modal-content",onClick:function(e){return e.stopPropagation()}},s.a.createElement(_e,{closeModal:this.closeModal})))}}]),a}(s.a.Component),St=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showComponent:!1,showUserModal:!1,color:"",active:"",movieId:""},e.listenScrollEvent=function(t){window.scrollY>400?e.setState({color:"rgba(0, 0, 0, 0.666)"}):e.setState({color:""})},e.onOpenModal=function(){e.setState({showComponent:!e.state.showComponent})},e.onOpenUserModal=function(){e.setState({showUserModal:!e.state.showUserModal})},e.logout=function(){"/user"===e.props.history.location.pathname?(e.props.history.push("/"),e.props.logout()):e.props.history.location.pathname.includes("/room")?(console.log("movie id",e.props.history.location.pathname.split("/")[2]),e.props.logout(),Fe.emit("chat room",{roomId:e.props.history.location.pathname.split("/")[2],user:null})):e.props.logout()},e.hideNavbar=function(){return e.props.history.location.pathname.includes("/room")?"hide-navbar":""},e.onActiveBtnAndToggleView=function(){e.props.toggleView("main"),e.changeToActiveBtn("home")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.listenScrollEvent),this.setState({active:"home"}),this.loadMovie()}},{key:"componentWillUnmount",value:function(){this.setState({active:""})}},{key:"loadMovie",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.history.location.pathname.split("/")[2],this.setState({movieId:t}),e.next=4,O.getById(t);case 4:a=e.sent,console.log("movie:",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeToActiveBtn",value:function(e){this.setState({active:e}),this.props.toggleView("main")}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser;return s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",{className:"main-nav after-canvas ".concat(this.hideNavbar()),style:{backgroundColor:this.state.color}},s.a.createElement("div",{className:"nav-container"},s.a.createElement("div",{className:"links-container"},s.a.createElement("div",{className:"home nav-column ".concat("home"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn  ",to:"/",onClick:function(){e.changeToActiveBtn("home")}},"Home")),s.a.createElement("div",{className:"about nav-column ".concat("about"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn",to:"/about",onClick:function(){e.changeToActiveBtn("about")}},"About")),s.a.createElement("div",{className:"movies nav-column ".concat("movie"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn",to:"/movies",onClick:function(){e.changeToActiveBtn("movie")}},"Movies"))),s.a.createElement("span",{className:"main-title nav-column"},s.a.createElement(c.Link,{className:"logo",to:"/",onClick:function(){e.onActiveBtnAndToggleView()}},s.a.createElement("div",{className:"WatChat-logo"},"WatChat")),s.a.createElement("div",{className:"under-logo"},"- online cinema -")),s.a.createElement("div",{className:"login-and-serach-section"},s.a.createElement(He,{className:"navlink-search nav-column",toggleView:this.props.toggleView,searchingValue:"movie"}),s.a.createElement("div",{className:"user-container nav-column"},null===t&&s.a.createElement("div",{className:"user-login  after-canvas",onClick:this.onOpenModal},"Log in"),s.a.createElement("div",{className:"user-details-container"},t&&s.a.createElement("div",{className:"user-name"},"Hello ",t.username),t&&s.a.createElement("div",{id:"logout-btn",onClick:this.logout},"Logout")),t&&t.avatar&&s.a.createElement("div",{className:"user-details-btn userImg"},s.a.createElement("div",{className:"user-img",style:{backgroundImage:"url(".concat(t.avatar,")")},onClick:this.onOpenUserModal})))))),this.state.showComponent?s.a.createElement(ue,{onOpenModal:this.onOpenModal}):null,this.state.showUserModal?s.a.createElement(jt,{onOpenUserModal:this.onOpenUserModal}):null)}}]),a}(n.Component),Ct={logout:D},Ut=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser,users:e.user.users}}),Ct)(Object(p.o)(St));var _t=Object(p.o)((function(e){var t=e.movie,a=e.removeFromFavList;return s.a.createElement("div",{className:"favorite-preview"},s.a.createElement("img",{src:"".concat(t.coverUrl),alt:""}),s.a.createElement("div",{className:"movie-details"},s.a.createElement("div",{className:"title"},t.title),s.a.createElement("div",{className:"genres"},t.genres.map((function(e){return s.a.createElement("span",null,e," ")}))),s.a.createElement("div",{className:"duration"},t.duration)),s.a.createElement("div",{className:"remove-from-list-btn",onClick:function(e){a(e,t)}}," ",s.a.createElement("i",{className:"fas fa-trash-alt"})))}));function Ot(e){var t=e.loggedInUser,a=e.removeFromFavList,n=e.onToggleList,r=e.isClose;return s.a.createElement("div",{className:"favorite-movies-section"},s.a.createElement("div",{className:"fav-list-btn ".concat(r?"":"fav-btn-open"),onClick:n},s.a.createElement("div",null,"My List")),s.a.createElement("div",{className:"favorite-movies-list ".concat(r?"closeNav":"openNav open-nav-style"),onClick:n},s.a.createElement("div",{className:"close-list-msg  ".concat(r?"hide-closing-msg":"")},s.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})," Click to Close"),s.a.createElement("div",{className:"container"},t&&t.favMovies.length>0?t.favMovies.map((function(e){return s.a.createElement(_t,{movie:e,removeFromFavList:a})})):s.a.createElement("div",{className:"empty-msg"},s.a.createElement("i",null,"The List is Empty")))))}var xt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showComponent:!1,color:"",active:""},e.hideNavbar=function(){return e.props.history.location.pathname.includes("/room")?"hide-mobile-navbar":""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({active:"home"})}},{key:"componentWillUnmount",value:function(){this.setState({active:""})}},{key:"changeToActiveBtn",value:function(e){this.setState({active:e}),this.props.toggleView("main")}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mobile-navbar ".concat(this.hideNavbar())},s.a.createElement("div",{className:"navbar-btns"},s.a.createElement("div",{className:"home nav-column ".concat("home"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn  ",to:"/",onClick:function(){e.changeToActiveBtn("home")}},s.a.createElement("i",{className:"fas fa-home"}),"Home")),s.a.createElement("div",{className:"about nav-column ".concat("about"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn",to:"/about",onClick:function(){e.changeToActiveBtn("about")}},s.a.createElement("i",{className:"fas fa-info-circle"}),"About")),s.a.createElement("div",{className:"movies nav-column ".concat("movie"===this.state.active?"active-navLink":"")},s.a.createElement(c.NavLink,{className:"navlink-btn",to:"/movies",onClick:function(){e.changeToActiveBtn("movie")}},s.a.createElement("i",{className:"fas fa-film"}),"Movies"))),s.a.createElement(He,{className:"navlink-search nav-column",toggleView:this.props.toggleView,searchingValue:"movie"})))}}]),a}(n.Component),Mt={logout:D},It=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser,users:e.user.users}}),Mt)(Object(p.o)(xt));var Ft=Object(p.o)((function(e){var t=e.history;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}})),null})),Tt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currView:"main",currCmp:"navFilter",appCondition:!0,isClose:!0},e.removeFromFavList=function(t,a){t.stopPropagation(),e.props.loggedInUser&&e.props.toggleFavUserList(e.props.loggedInUser,a)},e.toggleView=function(t){e.setState({currView:t})},e.onToggleList=function(){e.setState({isClose:!e.state.isClose})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.currView,a=e.appCondition,n=this.props,r=n.movies,o=n.loggedInUser;return s.a.createElement("div",{className:"App"},s.a.createElement("header",null,s.a.createElement(Ut,{toggleView:this.toggleView})),"FilteredMovie"===t&&s.a.createElement(dt,{movies:r,currCmp:this.state.currCmp,toggleView:this.toggleView,appCondition:a}),"main"===t&&s.a.createElement("main",null,s.a.createElement(s.a.Fragment,null,s.a.createElement(Ft,null),s.a.createElement(p.g,null,Nt.map((function(e){return s.a.createElement(p.d,{key:e.path,exact:!0,component:e.component,path:e.path})}))))),s.a.createElement(Ot,{removeFromFavList:this.removeFromFavList,loggedInUser:o,onToggleList:this.onToggleList,isClose:this.state.isClose}),s.a.createElement(It,{toggleView:this.toggleView}))}}]),a}(s.a.Component),Lt={toggleFavUserList:W},Gt=Object(i.b)((function(e){return{movies:e.movie.movies,loggedInUser:e.user.loggedInUser}}),Lt)(Tt),Rt=(a(503),a(48)),At=a(175),Vt={reviews:[],selectedReview:null},Pt=null;sessionStorage.user&&(Pt=JSON.parse(sessionStorage.user));var Bt={loggedInUser:Pt,users:[]},Dt={isLoading:!1},Ht={movies:[]};var Wt=Object(Rt.c)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!1});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(g.a)(Object(g.a)({},e),{},{reviews:t.reviews});case"REVIEW_ADD":return Object(g.a)(Object(g.a)({},e),{},{reviews:[].concat(Object(y.a)(e.reviews),[t.addedReview])});case"REVIEW_UPDATE":return Object(g.a)(Object(g.a)({},e),{},{reviews:e.reviews.map((function(e){return e._id===t.review._id?t.review:e}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:t.user});case"USER_REMOVE":return Object(g.a)(Object(g.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return console.log("action.users:",t.users),Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"UPDATE_USER":case"ADD_FAV_MOVIE":case"REMOVE_FAV_MOVIE":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:t.user});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIES":return Object(g.a)(Object(g.a)({},e),{},{movies:t.movies});case"ADD_MOVIE":var a=[].concat(Object(y.a)(e.movies),[t.savedMovie]);return Object(g.a)(Object(g.a)({},e),{},{movies:a});case"UPDATE_MOVIE":return console.log("UPDATE_MOVIE: ",t.savedMovie),Object(g.a)(Object(g.a)({},e),{},{movies:e.movies.map((function(e){return e._id===t.savedMovie._id?t.savedMovie:e}))});default:return e}}}),Xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rt.d,Yt=Object(Rt.e)(Wt,Xt(Object(Rt.a)(At.a)));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(i.a,{store:Yt},s.a.createElement(c.HashRouter,null,s.a.createElement(Gt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[179,1,2]]]);
//# sourceMappingURL=main.fabb73e4.chunk.js.map